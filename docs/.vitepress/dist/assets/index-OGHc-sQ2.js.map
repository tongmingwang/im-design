{"version":3,"file":"index-OGHc-sQ2.js","sources":["../../app/src/utils/canvas.ts","../../app/src/views/index.vue"],"sourcesContent":["// 雨滴类\r\nclass Drop {\r\n  canvas: HTMLCanvasElement;\r\n  ctx: CanvasRenderingContext2D;\r\n  x: number;\r\n  y: number;\r\n  z: number;\r\n  len: number;\r\n  speed: number;\r\n  opacity: number;\r\n  constructor(canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D) {\r\n    this.canvas = canvas;\r\n    this.ctx = ctx;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.z = 0; // 深度值，影响下落速度和长度\r\n    this.len = 0;\r\n    this.speed = 0;\r\n    this.opacity = 0;\r\n\r\n    this.reset();\r\n  }\r\n\r\n  reset() {\r\n    this.x = Math.random() * this.canvas.width;\r\n    this.y = Math.random() * -this.canvas.height;\r\n    this.z = Math.random() * 0.5 + 0.3; // 深度值，影响下落速度和长度\r\n    this.len = this.z * 20;\r\n    this.speed = this.z * 10;\r\n    this.opacity = this.z * 0.7;\r\n  }\r\n\r\n  update() {\r\n    this.y += this.speed;\r\n    if (this.y > this.canvas.height) {\r\n      this.reset();\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(this.x, this.y);\r\n    this.ctx.lineTo(this.x, this.y + this.len);\r\n    this.ctx.strokeStyle = `rgba(var(--im-primary-color-7),var(--im-error-color-8), var(--im-success-color-8), ${this.opacity})`;\r\n    this.ctx.lineWidth = this.z * 2;\r\n    this.ctx.stroke();\r\n  }\r\n}\r\n\r\nexport const ranCanvas = (canvas: HTMLCanvasElement) => {\r\n  const ctx = canvas.getContext('2d');\r\n  if (!ctx) return;\r\n\r\n  // 设置canvas大小为窗口大小\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n\r\n  // 雨滴数组\r\n  const drops: Array<Drop> = [];\r\n  const dropCount = 500; // 雨滴数量\r\n\r\n  // 初始化雨滴\r\n  for (let i = 0; i < dropCount; i++) {\r\n    drops.push(new Drop(canvas, ctx));\r\n  }\r\n  // 动画循环\r\n  function animate() {\r\n    ctx?.clearRect(0, 0, canvas.width, canvas.height);\r\n    // 更新和绘制所有雨滴\r\n    drops.forEach((drop) => {\r\n      drop.update();\r\n      drop.draw();\r\n    });\r\n\r\n    requestAnimationFrame(animate);\r\n  }\r\n  animate();\r\n\r\n  // 处理窗口大小变化\r\n  window.addEventListener('resize', () => {\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n  });\r\n};\r\n","<template>\r\n  <canvas id=\"rain\" class=\"canvas\" />\r\n  <div class=\"home\">\r\n    <div class=\"main\">\r\n      <div>\r\n        <img\r\n          src=\"../assets/im-logo.svg\"\r\n          alt=\"im-design logo\"\r\n          style=\"width: 240px; height: 240px\" />\r\n      </div>\r\n      <h1 class=\"title\">{{ $t('Home.Title') }}</h1>\r\n      <ImText>{{ $t('Home.SubTitle') }}</ImText>\r\n      <div class=\"btns\">\r\n        <ImButton @click=\"updateTheme\">{{ $t('Home.Theme') }}</ImButton>\r\n        <ImButton color=\"primary\">{{ $t('Home.Start') }}</ImButton>\r\n      </div>\r\n      <CodeView\r\n        code=\"npm i im-design\"\r\n        lang=\"bash\"\r\n        isDark\r\n        style=\"width: 100%; margin: 24px 0\" />\r\n      <ImButton\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        size=\"48\"\r\n        width=\"100%\"\r\n        @click=\"suppoer = true\"\r\n        >{{ $t('Home.Sponsor') }}</ImButton\r\n      >\r\n    </div>\r\n    <footer class=\"footer\">\r\n      <div>Released under the MIT License.</div>\r\n      <div>© 2025 im-design</div>\r\n    </footer>\r\n\r\n    <ImDialog v-model=\"suppoer\">\r\n      <ImDialogHeader> 赞助作者 </ImDialogHeader>\r\n      <ImDialogBody> 赞助作者，让im-design更好！ </ImDialogBody>\r\n    </ImDialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport CodeView from '../components/CodeView.vue';\r\nimport { onMounted, ref } from 'vue';\r\nimport { ranCanvas } from '../utils/canvas';\r\nimport { useAppStore } from '../store/useApp';\r\n\r\nconst store = useAppStore();\r\n\r\nconst suppoer = ref(false);\r\nonMounted(() => {\r\n  const canvas = document.querySelector('#rain') as HTMLCanvasElement;\r\n  canvas && ranCanvas(canvas);\r\n});\r\n\r\nfunction updateTheme() {\r\n  store.setTheme(store.theme === 'dark' ? 'light' : 'dark');\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.canvas {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  overflow: hidden;\r\n  background: linear-gradient(\r\n    45deg,\r\n    var(--im-bg-content-color),\r\n    var(--im-bg-content-color),\r\n    var(--im-bg-container-color)\r\n  );\r\n}\r\n.home {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 16px;\r\n  width: 100%;\r\n  position: relative;\r\n  backdrop-filter: blur(5px);\r\n}\r\n\r\n.main {\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 1;\r\n  height: calc(100vh - var(--app-header-height));\r\n  min-height: 800px;\r\n  max-width: 100%;\r\n  padding: 20px;\r\n  width: 600px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.title {\r\n  font-size: 28px;\r\n  margin: 16px 0;\r\n  line-height: 32px;\r\n  color: var(--im-gry-color-10);\r\n}\r\n\r\n.btns {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  justify-content: center;\r\n  margin: 16px 0;\r\n}\r\n\r\n.footer {\r\n  text-align: center;\r\n  padding: 16px;\r\n  min-height: 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--im-gray-color-8);\r\n  border-top: 1px solid var(--im-gray-color-4);\r\n}\r\n</style>\r\n"],"names":["Drop","canvas","ctx","__publicField","ranCanvas","drops","dropCount","i","animate","drop","store","useAppStore","suppoer","ref","onMounted","updateTheme","_createElementVNode","_hoisted_1","_hoisted_2","_imports_0","_hoisted_3","_toDisplayString","$t","_createVNode","_component_ImText","_hoisted_4","_component_ImButton","CodeView","_component_ImDialog","$event","_component_ImDialogHeader","_cache","_component_ImDialogBody"],"mappings":"wZACA,MAAMA,CAAK,CAST,YAAYC,EAA2BC,EAA+B,CARtEC,EAAA,eACAA,EAAA,YACAA,EAAA,UACAA,EAAA,UACAA,EAAA,UACAA,EAAA,YACAA,EAAA,cACAA,EAAA,gBAEE,KAAK,OAASF,EACd,KAAK,IAAMC,EACX,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,EAAI,EACT,KAAK,IAAM,EACX,KAAK,MAAQ,EACb,KAAK,QAAU,EAEf,KAAK,MAAM,CAAA,CAGb,OAAQ,CACN,KAAK,EAAI,KAAK,OAAO,EAAI,KAAK,OAAO,MACrC,KAAK,EAAI,KAAK,OAAW,EAAA,CAAC,KAAK,OAAO,OACtC,KAAK,EAAI,KAAK,OAAO,EAAI,GAAM,GAC1B,KAAA,IAAM,KAAK,EAAI,GACf,KAAA,MAAQ,KAAK,EAAI,GACjB,KAAA,QAAU,KAAK,EAAI,EAAA,CAG1B,QAAS,CACP,KAAK,GAAK,KAAK,MACX,KAAK,EAAI,KAAK,OAAO,QACvB,KAAK,MAAM,CACb,CAGF,MAAO,CACL,KAAK,IAAI,UAAU,EACnB,KAAK,IAAI,OAAO,KAAK,EAAG,KAAK,CAAC,EAC9B,KAAK,IAAI,OAAO,KAAK,EAAG,KAAK,EAAI,KAAK,GAAG,EACzC,KAAK,IAAI,YAAc,sFAAsF,KAAK,OAAO,IACpH,KAAA,IAAI,UAAY,KAAK,EAAI,EAC9B,KAAK,IAAI,OAAO,CAAA,CAEpB,CAEa,MAAAE,EAAaH,GAA8B,CAChD,MAAAC,EAAMD,EAAO,WAAW,IAAI,EAClC,GAAI,CAACC,EAAK,OAGVD,EAAO,MAAQ,OAAO,WACtBA,EAAO,OAAS,OAAO,YAGvB,MAAMI,EAAqB,CAAC,EACtBC,EAAY,IAGlB,QAASC,EAAI,EAAGA,EAAID,EAAWC,IAC7BF,EAAM,KAAK,IAAIL,EAAKC,EAAQC,CAAG,CAAC,EAGlC,SAASM,GAAU,CACjBN,GAAA,MAAAA,EAAK,UAAU,EAAG,EAAGD,EAAO,MAAOA,EAAO,QAEpCI,EAAA,QAASI,GAAS,CACtBA,EAAK,OAAO,EACZA,EAAK,KAAK,CAAA,CACX,EAED,sBAAsBD,CAAO,CAAA,CAEvBA,EAAA,EAGD,OAAA,iBAAiB,SAAU,IAAM,CACtCP,EAAO,MAAQ,OAAO,WACtBA,EAAO,OAAS,OAAO,WAAA,CACxB,CACH,oGCnCA,MAAMS,EAAQC,EAAY,EAEpBC,EAAUC,EAAI,EAAK,EACzBC,EAAU,IAAM,CACR,MAAAb,EAAS,SAAS,cAAc,OAAO,EAC7CA,GAAUG,EAAUH,CAAM,CAAA,CAC3B,EAED,SAASc,GAAc,CACrBL,EAAM,SAASA,EAAM,QAAU,OAAS,QAAU,MAAM,CAAA,8IAxDxDM,EAAmC,SAAA,CAA3B,GAAG,OAAO,MAAM,QAAA,YACxBA,EAqCM,MArCNC,EAqCM,CApCJD,EA0BM,MA1BNE,EA0BM,aAzBJF,EAKM,MAAA,KAAA,CAJJA,EAGwC,MAAA,CAFtC,IAAAG,EACA,IAAI,iBACJ,MAAA,CAAmC,MAAA,QAAA,OAAA,OAAA,UAEvCH,EAA6C,KAA7CI,EAA6CC,EAAxBC,EAAE,GAAA,YAAA,CAAA,EAAA,CAAA,EACvBC,EAA0CC,EAAA,KAAA,WAAlC,IAAyB,KAAtBF,EAAE,GAAA,eAAA,CAAA,EAAA,CAAA,CAAA,SACbN,EAGM,MAHNS,EAGM,CAFJF,EAAgEG,EAAA,CAArD,QAAOX,GAAW,WAAE,IAAsB,KAAnBO,EAAE,GAAA,YAAA,CAAA,EAAA,CAAA,CAAA,SACpCC,EAA2DG,EAAA,CAAjD,MAAM,WAAS,WAAC,IAAsB,KAAnBJ,EAAE,GAAA,YAAA,CAAA,EAAA,CAAA,CAAA,WAEjCC,EAIwCI,EAAA,CAHtC,KAAK,kBACL,KAAK,OACL,OAAA,GACA,MAAA,CAAmC,MAAA,OAAA,OAAA,QAAA,CAAA,GACrCJ,EAM8CG,EAAA,CAL5C,MAAM,UACN,QAAQ,WACR,KAAK,KACL,MAAM,OACL,uBAAOd,EAAO,MAAA,GAAA,aACd,IAAwB,KAArBU,EAAE,GAAA,cAAA,CAAA,EAAA,CAAA,CAAA,uBAGVN,EAGS,SAAA,CAHD,MAAM,UAAQ,CACpBA,EAA0C,WAArC,iCAA+B,EACpCA,EAA2B,WAAtB,kBAAgB,QAGvBO,EAGWK,EAAA,YAHQhB,EAAO,2CAAPA,EAAO,MAAAiB,EAAA,aACxB,IAAuC,CAAvCN,EAAuCO,EAAA,KAAA,WAAvB,IAAMC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAN,QAAM,CAAA,iBACtBR,EAAiDS,EAAA,KAAA,WAAnC,IAAoBD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAApB,sBAAoB,CAAA"}