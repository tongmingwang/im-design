"use strict";var T=n=>{throw TypeError(n)};var N=(n,o,t)=>o.has(n)||T("Cannot "+t);var C=(n,o,t)=>(N(n,o,"read from private field"),t?t.call(n):o.get(n)),$=(n,o,t)=>o.has(n)?T("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(n):o.set(n,t),V=(n,o,t,l)=>(N(n,o,"write to private field"),l?l.call(n,t):o.set(n,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),D=Symbol("im-design-token");var w;class Y{constructor(){$(this,w);V(this,w,[])}async add(o){C(this,w).push(o)}remove(){try{const o=C(this,w).shift();o&&this.run(o)}catch(o){console.error(o)}}async run(o){try{const t=o.querySelector(".im-ripple__item");if(!t)return;let l=Date.now(),r=t.getAttribute("data-time");const i=l-Number(r)||0;i&&await new Promise(s=>{t.style.opacity="0.1";const d=200-i;setTimeout(()=>{s(null)},d>0?d:0)}),t.style.opacity="0",t.style.transition="all 50ms ",setTimeout(()=>{o&&(o==null||o.remove()),C(this,w).length&&this.remove()},50)}catch(t){console.log(t)}}}w=new WeakMap;const M={mounted(n,o){(function(){n.addEventListener("mousedown",r,{passive:!0}),window.addEventListener("mouseup",i,{passive:!0}),window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchend",i,{passive:!0})})();const l=new Y;async function r(s){if(!o.value)return;const d=window.getComputedStyle(n),m=n.getBoundingClientRect(),v=document.createElement("div");v.className="im-ripple",l.add(v);const c=document.createElement("div");c.className="im-ripple__item";const a=s.clientX||s.touches&&s.touches[0].clientX,u=s.clientY||s.touches&&s.touches[0].clientY,p=Math.max(m.width,m.height),_=a-m.left-p/2,g=u-m.top-p/2,I=m.width-m.height<=5;Object.assign(c.style,{"background-color":d.color,width:`${p}px`,height:`${p}px`,left:`${_}px`,top:`${g}px`,opacity:"0.33",transform:I?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),c.setAttribute("data-time",Date.now()+""),v.appendChild(c),n.appendChild(v);const f=d.position;f==="static"&&(n.style.position="relative",n.dataset.originalPosition=f),c.getBoundingClientRect(),c.style.transform="scale(2.8)",c.style.opacity="0.33"}n.im_add_ripple_fn__=r,n.im_remove_ripple_fn__=i;function i(){l.remove()}},unmounted(n){n&&(n!=null&&n.im_add_ripple_fn__)&&(n.removeEventListener("mousedown",n.im_add_ripple_fn__),window.removeEventListener("touchstart",n.im_add_ripple_fn__)),n&&n.im_remove_ripple_fn__&&(window.removeEventListener("mouseup",n.im_remove_ripple_fn__),window.removeEventListener("touchend",n.im_remove_ripple_fn__))}},k=n=>{const o="im-"+n;return{b:()=>o,e:t=>`${o}__${t}`,m:t=>`${o}--${t}`,is:(t,l)=>l?`is-${t}`:""}},L=(n,o)=>{const t=e.inject(D),l=e.ref(Number(t.size||36)),r=e.ref(t.zIndex||1e3);return{sizeToken:l,zIndexToken:r}},P={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function q(n,o){return e.openBlock(),e.createElementBlock("svg",P,o[0]||(o[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const F={render:q},O=["tabindex","type","disabled"],j=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(n,{emit:o}){const t=n,l=o,r=k("button"),{sizeToken:i}=L(),s=e.computed(()=>[r.b(),t.color&&r.m(t.color),t.shape&&r.m(t.shape),t.variant&&r.m(t.variant),r.is("disabled",t.disabled),r.is("loading",t.loading)].filter(Boolean)),d=e.computed(()=>{let c=+(t.size||i.value||36);return{"--im-button-size":c+"px","--im-button-padding":(c*.45).toFixed(0)+"px",width:t.width}}),m=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),v=()=>{t.disabled||t.loading||l("click")};return(c,a)=>{const u=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(s.value),onClick:v,style:e.normalizeStyle(d.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(r).e("loading")])},[e.createVNode(e.unref(F))],2)):e.createCommentVNode("",!0),m.value?e.createCommentVNode("",!0):e.renderSlot(c.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,O)),[[u,!0]])}}}),y=(n,o)=>{const t=n.__vccOpts||n;for(const[l,r]of o)t[l]=r;return t},z=y(j,[["__scopeId","data-v-706dad03"]]);z.install=n=>{n.component("ImButton",z)};const X=e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(n){const o=n,t=e.useSlots(),l=e.computed(()=>{var i;return((i=t.default)==null?void 0:i.call(t))||[]}),r=k("row");return(i,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--im-row-gutter":o.gutter+"px","align-items":o.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(d,m)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d),{key:m}))),128))],6))}}),x=y(X,[["__scopeId","data-v-5179967f"]]),U=e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(n){const o=n,t=k("col"),l=e.computed(()=>+((Number(o.span)||0)/24).toFixed(2)*100+"%");return(r,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":l.value,"--im-col-offset":o.offset})},[e.renderSlot(r.$slots,"default",{},void 0,!0)],6))}}),E=y(U,[["__scopeId","data-v-ecf91058"]]);x.install=n=>{n.component("ImRow",x)};E.install=n=>{n.component("ImCol",E)};const H=e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(n,{emit:o}){const t=n,{sizeToken:l}=L(),r=o,i=e.ref(t.modelValue),s=k("input"),d=()=>{r("update:modelValue",i.value),r("change",i.value)};return(m,v)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(s).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(l)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(s).e("input")],"onUpdate:modelValue":v[0]||(v[0]=c=>i.value=c)},t,{onInput:d}),null,16),[[e.vModelDynamic,i.value]])],6))}}),S=y(H,[["__scopeId","data-v-6c70856c"]]);S.install=n=>{n.component("ImInput",S)};const G=e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(n){const o=n;return(t,l)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${o.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(o.size))||16)+"px","--icon-color":o.color})},null,6))}}),B=y(G,[["__scopeId","data-v-1e711363"]]);B.install=function(n){n.component("ImIcon",B)};const J=e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(n){const o=k("divider"),t=n;return(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b(),e.unref(o).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("text")])},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2))],6))}}),b=y(J,[["__scopeId","data-v-108f9bec"]]);b.name="ImDivider";b.install=function(n){n.component("ImDivider",b)};const R=(n,o)=>(o.install=t=>{t.component(n,o)},o),K=(n,o)=>{let t=null;return function(...l){t||(t=setTimeout(()=>{n.apply(this,l),t=null},o))}},Q=(n,o)=>{let t=null;return function(...l){t&&clearTimeout(t),t=setTimeout(()=>{n.apply(this,l)},o)}},Z=["onClick"],ee=e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(n){const o=k("anchor");let t=null;const l=e.ref(null),r=e.ref(null),i=e.ref(null),s=n;e.watch(()=>s.target,()=>{t&&t(),t=v()}),e.onMounted(()=>{t=v()}),e.onUnmounted(()=>{t&&t()});function d(a){let u=a==null?void 0:a.scrollTop;return l.value===window&&(u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),u}function m(a){var I;if(i.value||!l.value)return;const u=l.value===window?a.target:l.value;let p=d(u);const _=u.offsetTop||0,g=(s.data||[]).map(({id:f})=>{const h=document.getElementById(f);return h?{id:f,offsetTop:h.offsetTop-_,el:h}:null}).filter(Boolean);r.value=null;for(let f=0;f<g.length;f++){const h=g[f];if(p>=h.offsetTop-(s.offset||0)&&p<=h.offsetTop+(((I=h.el)==null?void 0:I.clientHeight)||0)-(s.offset||0)){r.value=h.id;return}}if(!r.value&&p>=(parseInt(String(s.offset))||0)){const f=g.find(h=>p<=h.offsetTop-(s.offset||0)&&p>(s.offset||0)?(r.value=h.id,!0):!1);f&&(r.value=f.id)}}function v(){const a=s.target?typeof s.target=="string"?document.querySelector(s.target):s.target:window;if(!a)return null;l.value=a;const u=K(m,50);return m({target:a}),a.addEventListener("scroll",u,{passive:!0}),()=>{a.removeEventListener("scroll",u)}}async function c(a){var _,g,I;if(r.value===a||!a)return;i.value=a,r.value=a;const u=document.getElementById(a);if(!u)return;(g=l.value)==null||g.scrollTo({top:u.offsetTop-(s.offset||0)-(((_=l.value)==null?void 0:_.offsetTop)||0),behavior:"smooth",left:0});const p=Q(()=>{var f;i.value=null,(f=l.value)==null||f.removeEventListener("scroll",p)},300);(I=l.value)==null||I.addEventListener("scroll",p,{passive:!0})}return(a,u)=>{const p=e.resolveDirective("ripple");return s.data&&s.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.data,_=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(o).e("item"),e.unref(o).is("active",r.value===_.id)]),onClick:()=>c(_.id)},[r.value===_.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(_.text),1)],10,Z)),[[p,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),te=y(ee,[["__scopeId","data-v-4840d244"]]),A=R("ImAnchor",te),ne=e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:o}){const t=o,l=e.ref(null),r=n,i=k("alert"),s=e.useSlots(),d=e.computed(()=>!!(r.showIcon&&r.title)),m=e.computed(()=>{switch(r.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),v=async()=>{var c,a;t("close"),(c=l.value)==null||c.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(u=>setTimeout(u,300)),(a=l.value)==null||a.remove()};return(c,a)=>{const u=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:l,class:e.normalizeClass([e.unref(i).b(),e.unref(i).m(r.color||"primary"),r.variant&&e.unref(i).m(r.variant||"")])},[r.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("icon")])},[e.renderSlot(c.$slots,"icon",{},()=>[e.createVNode(e.unref(B),{name:m.value,size:d.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("content")])},[r.title||e.unref(s).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("title")])},[e.renderSlot(c.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(r.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("message")])},[e.renderSlot(c.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(r.message),1)],!0)],2)],2),r.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(i).e("close")]),onClick:v},[e.renderSlot(c.$slots,"close",{},()=>[e.createVNode(e.unref(B),{name:"close",size:"16"})],!0)],2)),[[u,!0]]):e.createCommentVNode("",!0)],2)}}}),oe=y(ne,[["__scopeId","data-v-d11fdcb2"]]),W=R("ImAlert",oe),re=[z,E,x,S,B,b,A,W],le=(n,o)=>{n.provide(D,{size:(o==null?void 0:o.size)||36,zIndex:(o==null?void 0:o.zIndex)||1e3}),n.directive("ripple",M),re.forEach(t=>{t.name?n.component(t.name,t):console.warn(`组件${t}缺少name属性`)})},se={install:le};exports.ImAlert=W;exports.ImAnchor=A;exports.ImButton=z;exports.ImCol=E;exports.ImDivider=b;exports.ImIcon=B;exports.ImInput=S;exports.ImRow=x;exports.default=se;
