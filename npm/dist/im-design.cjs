"use strict";var re=Object.defineProperty;var O=o=>{throw TypeError(o)};var se=(o,n,t)=>n in o?re(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t;var T=(o,n,t)=>se(o,typeof n!="symbol"?n+"":n,t),X=(o,n,t)=>n.has(o)||O("Cannot "+t);var V=(o,n,t)=>(X(o,n,"read from private field"),t?t.call(o):n.get(o)),q=(o,n,t)=>n.has(o)?O("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(o):n.set(o,t),W=(o,n,t,s)=>(X(o,n,"write to private field"),s?s.call(o,t):n.set(o,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),U=Symbol("im-design-token");var z;class ae{constructor(){q(this,z);W(this,z,[])}async add(n){V(this,z).push(n)}remove(){try{const n=V(this,z).shift();n&&this.run(n)}catch(n){console.error(n)}}async run(n){try{const t=n.querySelector(".im-ripple__item");if(!t)return;let s=Date.now(),r=t.getAttribute("data-time");const l=s-Number(r)||0;l&&await new Promise(a=>{t.style.opacity="0.1";const m=200-l;setTimeout(()=>{a(null)},m>0?m:0)}),t.style.opacity="0",t.style.transition="all 50ms",setTimeout(()=>{n&&(n==null||n.remove()),V(this,z).length&&this.remove()},50)}catch(t){console.log(t)}}}z=new WeakMap;const le={mounted(o,n){(function(){o.addEventListener("mousedown",r,{passive:!0}),window.addEventListener("mouseup",l,{passive:!0})})();const s=new ae;async function r(a){if(!n.value)return;const m=window.getComputedStyle(o),c=o.getBoundingClientRect(),d=document.createElement("div");d.className="im-ripple",s.add(d);const i=document.createElement("div");i.className="im-ripple__item";const u=a.clientX||a.touches&&a.touches[0].clientX,p=a.clientY||a.touches&&a.touches[0].clientY,f=Math.max(c.width,c.height),v=u-c.left-f/2,I=p-c.top-f/2,b=c.width-c.height<=5;Object.assign(i.style,{"background-color":m.color,width:`${f}px`,height:`${f}px`,left:`${v}px`,top:`${I}px`,opacity:"0.15",transform:b?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),i.setAttribute("data-time",Date.now()+""),d.appendChild(i),o.appendChild(d);const h=m.position;h==="static"&&(o.style.position="relative",o.dataset.originalPosition=h),i.getBoundingClientRect(),i.style.transform="scale(2.8)",i.style.opacity="0.33"}o.im_add_ripple_fn__=r,o.im_remove_ripple_fn__=l;function l(){s.remove()}},unmounted(o){o&&(o!=null&&o.im_add_ripple_fn__)&&o.removeEventListener("mousedown",o.im_add_ripple_fn__),o&&o.im_remove_ripple_fn__&&window.removeEventListener("mouseup",o.im_remove_ripple_fn__)}},y=o=>{const n="im-"+o;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,s)=>s?`is-${t}`:""}},$=(o,n)=>{const t=e.inject(U),s=e.ref(Number(t.size||36)),r=e.ref(t.zIndex||1e3);return{sizeToken:s,zIndexToken:r}},ie={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function ce(o,n){return e.openBlock(),e.createElementBlock("svg",ie,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const ue={render:ce},de=["tabindex","type","disabled"],me=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(o,{emit:n}){const t=o,s=n,r=y("button"),{sizeToken:l}=$(),a=e.computed(()=>[r.b(),t.color&&r.m(t.color),t.shape&&r.m(t.shape),t.variant&&r.m(t.variant),r.is("disabled",t.disabled),r.is("loading",t.loading)].filter(Boolean)),m=e.computed(()=>{let i=+(t.size||l.value||36);return{"--im-button-size":i+"px","--im-button-padding":(i*.45).toFixed(0)+"px",width:t.width}}),c=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),d=()=>{t.disabled||t.loading||s("click")};return(i,u)=>{const p=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(a.value),onClick:d,style:e.normalizeStyle(m.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(r).e("loading")])},[e.createVNode(e.unref(ue))],2)):e.createCommentVNode("",!0),c.value?e.createCommentVNode("",!0):e.renderSlot(i.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,de)),[[p,!0]])}}}),_=(o,n)=>{const t=o.__vccOpts||o;for(const[s,r]of n)t[s]=r;return t},D=_(me,[["__scopeId","data-v-fe80f42d"]]);D.install=o=>{o.component("ImButton",D)};const pe=e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(o){const n=o,t=e.useSlots(),s=e.computed(()=>{var l;return((l=t.default)==null?void 0:l.call(t))||[]}),r=y("row");return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(m,c)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m),{key:c}))),128))],6))}}),M=_(pe,[["__scopeId","data-v-5179967f"]]),fe=e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(o){const n=o,t=y("col"),s=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(r,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":s.value,"--im-col-offset":n.offset})},[e.renderSlot(r.$slots,"default",{},void 0,!0)],6))}}),A=_(fe,[["__scopeId","data-v-ecf91058"]]);M.install=o=>{o.component("ImRow",M)};A.install=o=>{o.component("ImCol",A)};const ve=e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=o,{sizeToken:s}=$(),r=n,l=e.ref(t.modelValue),a=y("input"),m=()=>{r("update:modelValue",l.value),r("change",l.value)};return(c,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(a).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(s)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(a).e("input")],"onUpdate:modelValue":d[0]||(d[0]=i=>l.value=i)},t,{onInput:m}),null,16),[[e.vModelDynamic,l.value]])],6))}}),R=_(ve,[["__scopeId","data-v-6c70856c"]]);R.install=o=>{o.component("ImInput",R)};const he=e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(o){const n=o;return(t,s)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${n.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(n.size))||16)+"px","--icon-color":n.color})},null,6))}}),x=_(he,[["__scopeId","data-v-1e711363"]]);x.install=function(o){o.component("ImIcon",x)};const _e=e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(o){const n=y("divider"),t=o;return(s,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("text")])},[e.renderSlot(s.$slots,"default",{},void 0,!0)],2))],6))}}),L=_(_e,[["__scopeId","data-v-108f9bec"]]);L.name="ImDivider";L.install=function(o){o.component("ImDivider",L)};const B=(o,n)=>(n.install=t=>{t.component(o,n)},n),P=(o,n)=>{let t;return function(...s){t||(t=setTimeout(()=>{o.apply(this,s),t=null},n))}},N=(o,n)=>{let t;return function(...s){t&&clearTimeout(t),t=setTimeout(()=>{o.apply(this,s)},n)}},j=(o,n,t)=>{if(!t)return!1;const s=t.getBoundingClientRect();return o>=s.left&&o<=s.left+s.width&&n>=s.top&&n<=s.top+s.height},ye=["onClick"],ge=e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(o){const n=y("anchor");let t=null;const s=e.ref(null),r=e.ref(null),l=e.ref(null),a=o;e.watch(()=>a.target,()=>{t&&t(),t=d()}),e.onMounted(()=>{t=d()}),e.onUnmounted(()=>{t&&t()});function m(u){let p=u==null?void 0:u.scrollTop;return s.value===window&&(p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),p}function c(u){var b;if(l.value||!s.value)return;const p=s.value===window?u.target:s.value;let f=m(p);const v=p.offsetTop||0,I=(a.data||[]).map(({id:h})=>{const g=document.getElementById(h);return g?{id:h,offsetTop:g.offsetTop-v,el:g}:null}).filter(Boolean);r.value=null;for(let h=0;h<I.length;h++){const g=I[h];if(f>=g.offsetTop-(a.offset||0)&&f<=g.offsetTop+(((b=g.el)==null?void 0:b.clientHeight)||0)-(a.offset||0)){r.value=g.id;return}}if(!r.value&&f>=(parseInt(String(a.offset))||0)){const h=I.find(g=>f<=g.offsetTop-(a.offset||0)&&f>(a.offset||0)?(r.value=g.id,!0):!1);h&&(r.value=h.id)}}function d(){const u=a.target?typeof a.target=="string"?document.querySelector(a.target):a.target:window;if(!u)return null;s.value=u;const p=P(c,50);return c({target:u}),u.addEventListener("scroll",p,{passive:!0}),()=>{u.removeEventListener("scroll",p)}}async function i(u){var v,I,b;if(r.value===u||!u)return;l.value=u,r.value=u;const p=document.getElementById(u);if(!p)return;(I=s.value)==null||I.scrollTo({top:p.offsetTop-(a.offset||0)-(((v=s.value)==null?void 0:v.offsetTop)||0),behavior:"smooth",left:0});const f=N(()=>{var h;l.value=null,(h=s.value)==null||h.removeEventListener("scroll",f)},300);(b=s.value)==null||b.addEventListener("scroll",f,{passive:!0})}return(u,p)=>{const f=e.resolveDirective("ripple");return a.data&&a.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.data,v=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(n).e("item"),e.unref(n).is("active",r.value===v.id)]),onClick:()=>i(v.id)},[r.value===v.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(v.text),1)],10,ye)),[[f,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),ke=_(ge,[["__scopeId","data-v-4840d244"]]),H=B("ImAnchor",ke),Ie=e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:n}){const t=n,s=e.ref(null),r=o,l=y("alert"),a=e.useSlots(),m=e.computed(()=>!!(r.showIcon&&r.title)),c=e.computed(()=>{switch(r.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),d=async()=>{var i,u;t("close"),(i=s.value)==null||i.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(p=>setTimeout(p,300)),(u=s.value)==null||u.remove()};return(i,u)=>{const p=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:s,class:e.normalizeClass([e.unref(l).b(),e.unref(l).m(r.color||"primary"),r.variant&&e.unref(l).m(r.variant||"")])},[r.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(l).e("icon")])},[e.renderSlot(i.$slots,"icon",{},()=>[e.createVNode(e.unref(x),{name:c.value,size:m.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(l).e("content")])},[r.title||e.unref(a).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(l).e("title")])},[e.renderSlot(i.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(r.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(l).e("message")])},[e.renderSlot(i.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(r.message),1)],!0)],2)],2),r.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(l).e("close")]),onClick:d},[e.renderSlot(i.$slots,"close",{},()=>[e.createVNode(e.unref(x),{name:"close",size:"16"})],!0)],2)),[[p,!0]]):e.createCommentVNode("",!0)],2)}}}),be=_(Ie,[["__scopeId","data-v-d11fdcb2"]]),G=B("ImAlert",be),Be=e.defineComponent({name:"ImBreadcrumb",__name:"ImBreadcrumb",props:{modelValue:{default:""},separator:{default:"/"}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=e.useSlots(),s=n,r=y("breadcrumb"),l=o,a=e.computed(()=>{var c,d;return(d=(c=t.default)==null?void 0:c.call(t))==null?void 0:d.filter(i=>{var u;return(i==null?void 0:i.type)&&((u=i==null?void 0:i.type)==null?void 0:u.name)==="ImBreadcrumbItem"})}),m=c=>{c&&l.modelValue!==c&&(s("update:modelValue",c),s("change",c))};return(c,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(i,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i),{active:l.modelValue,onClick:m},null,8,["active"])),a.value&&a.value.length>0&&u<a.value.length-1?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(r).e("separator")])},[e.renderSlot(c.$slots,"separator",{},()=>[e.createTextVNode(e.toDisplayString(l.separator),1)],!0)],2)):e.createCommentVNode("",!0)],64))),256))],2))}}),we=_(Be,[["__scopeId","data-v-64336468"]]),Ce=e.defineComponent({name:"ImBreadcrumbItem",__name:"ImBreadcrumbItem",props:{active:{},value:{default:Math.random().toString()}},emits:["click"],setup(o,{emit:n}){const t=y("breadcrumb__item"),s=o,r=n;return(l,a)=>(e.openBlock(),e.createElementBlock("div",{onClick:a[0]||(a[0]=()=>r("click",s.value)),class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",s.active===s.value&&!!s.value)])},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2))}}),Ee=_(Ce,[["__scopeId","data-v-40ed04b1"]]),J=B("ImBreadcrumb",we),K=B("ImBreadcrumb",Ee),ze=(o=50)=>{const n=e.ref(0),t=e.ref(0),s=P(r=>{n.value=r.clientX,t.value=r.clientY},o);return e.onMounted(()=>{window.addEventListener("mousemove",s,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",s)}),{x:n,y:t}},xe=(o,n,t,s="bottomLeft")=>{e.watch(()=>o.value,()=>{o.value&&r()});async function r(){var p;await new Promise(f=>requestAnimationFrame(f));const l=n==null?void 0:n.value,a=t==null?void 0:t.value;if(!l||!a)return;const c=(((p=l.children)==null?void 0:p.length)!=1?l:l.children[0]).getBoundingClientRect(),d=c.bottom,i=a.getBoundingClientRect(),u=2;switch(s){case"bottom":a.style.setProperty("top",`${d+u}px`),a.style.setProperty("left",`${c.left+c.width/2-i.width/2}px`);break;case"bottomRight":a.style.setProperty("top",`${d+u}px`),a.style.setProperty("left",`${c.left+c.width-i.width}px`);break;case"top":a.style.setProperty("top",`${c.top-i.height-u}px`),a.style.setProperty("left",`${c.left+c.width/2-i.width/2}px`);break;case"topRight":a.style.setProperty("top",`${c.top-i.height-u}px`),a.style.setProperty("left",`${c.right-i.width}px`);break;case"topLeft":a.style.setProperty("top",`${c.top-i.height-u}px`),a.style.setProperty("left",`${c.left}px`);break;default:a.style.setProperty("top",`${d+u}px`),a.style.setProperty("left",`${c.left}px`);break}}},Le=o=>{const n=o.toLowerCase().includes("bottom")?"translateY(-10px)":"translateY(10px)";function t(r,l){r.style.transform=n,r.style.opacity="0",r.style.pointerEvents="none",r.getBoundingClientRect(),r.style.transform="translateY(0px)",r.style.opacity="1",r.style.pointerEvents="auto",l()}async function s(r,l){r.style.transform=n,r.style.opacity="0",r.getBoundingClientRect(),r.addEventListener("transitionend",()=>{l(),r.style.transform="translateY(0px)"})}return{onEnter:t,onLeave:s}},$e=e.defineComponent({name:"ImDropdown",__name:"ImDropdown",props:{modelValue:{type:Boolean,default:!1},trigger:{default:"hover"},placement:{default:"bottomLeft"},zIndex:{default:void 0}},emits:["update:modelValue","change"],setup(o,{emit:n}){var g;const t=n,s=y("dropdown"),r=o,l=e.ref(null),a=e.ref(null),m=e.ref(r.modelValue||!1),c=Le((g=r.placement)!=null&&g.includes("top")?"top":"bottom");let d=null,i=100;const{x:u,y:p}=ze(30),{zIndexToken:f}=$();xe(m,l,a,r.placement),e.onMounted(()=>{d&&d(),d=h()}),e.onUnmounted(()=>{d&&d()}),e.watch(()=>r.trigger,()=>{d&&d(),d=h()});const v=P(()=>{const C=j(u.value,p.value,a.value);j(u.value,p.value,l.value)||C||(m.value=!1)},i);e.watch(()=>[u.value,p.value],()=>{r.trigger!="hover"||!m.value||v()});function I(){m.value=!0,t("update:modelValue",m.value),t("change",m.value),window.addEventListener("scroll",b,{passive:!0,capture:!0})}function b(){m.value=!1,t("update:modelValue",m.value),t("change",m.value),window.removeEventListener("scroll",close)}function h(){var S,F;d&&d();const C=N(E=>{var w;(w=l.value)!=null&&w.contains(E.target)||b()},i);if(document.addEventListener("click",C,{passive:!0}),r.trigger==="hover"){const E=N(I,i);return(S=l.value)==null||S.addEventListener("mouseenter",E,{passive:!0}),()=>{var w;(w=l.value)==null||w.removeEventListener("mouseenter",E),document.removeEventListener("click",C)}}if(r.trigger==="click"){const E=N(()=>{m.value?b():I()},i);return(F=l.value)==null||F.addEventListener("click",E,{passive:!0}),()=>{var w;(w=l.value)==null||w.removeEventListener("click",E),document.removeEventListener("click",C)}}return null}return(C,S)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(s).b()]),ref_key:"dropdownRef",ref:l},[e.renderSlot(C.$slots,"default",{},void 0,!0),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{onEnter:e.unref(c).onEnter,onLeave:e.unref(c).onLeave,duration:{enter:300,leave:200}},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(s).e("content")]),ref_key:"contentRef",ref:a,style:e.normalizeStyle({zIndex:r.zIndex||e.unref(f)})},[e.renderSlot(C.$slots,"content",{},void 0,!0)],6),[[e.vShow,m.value]])]),_:3},8,["onEnter","onLeave"])]))],2))}}),Se=_($e,[["__scopeId","data-v-c394ceaa"]]),Q=B("ImDropdown",Se),Te=e.defineComponent({name:"ImList",__name:"ImList",props:{modelValue:{default:""}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=o,s=e.useSlots(),r=y("list"),l=e.computed(()=>{var d;const c=((d=s.default)==null?void 0:d.call(s))||[];if(c.length){const i=[];return c.forEach(u=>{var p,f;typeof u.type=="object"?i.push(u):u.children&&((p=u.children)!=null&&p.length)&&((f=u.children)==null||f.forEach(v=>{typeof(v==null?void 0:v.type)=="object"&&i.push(v)}))}),i}}),a=n,m=c=>{a("update:modelValue",c.value),a("change",c.value)};return(c,d)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(r).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,i=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i),{active:t.modelValue,onClick:()=>m(i.props)},null,8,["active","onClick"]))),256))],2))}}),Ve=_(Te,[["__scopeId","data-v-9599f63c"]]),Ne=e.defineComponent({name:"ImListItem",__name:"ImListItem",props:{disabled:{type:Boolean,default:!1},value:{default:""},active:{default:""},ripple:{type:Boolean,default:!0}},emits:["click"],setup(o,{emit:n}){const t=y("list__item"),s=n,r=o;return(l,a)=>{const m=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",!!(r.active&&r.active===r.value))]),onClick:a[0]||(a[0]=c=>s("click",c))},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2)),[[m,r.ripple]])}}}),De=_(Ne,[["__scopeId","data-v-41ec0ba7"]]),Z=B("ImList",Ve),ee=B("ImListItem",De),Me=["src","srcset","alt","loading"],Ae=e.defineComponent({name:"ImAvatar",__name:"ImAvatar",props:{size:{default:36},src:{default:""},alt:{default:""},title:{default:""},crossOrigin:{default:"anonymous"},fit:{default:"cover"},srcset:{default:""},loading:{default:"eager"},shape:{default:"circle"},color:{default:""}},emits:["error"],setup(o,{emit:n}){const t=n,s=y("avatar"),r=o,l=a=>{console.log(a.target),t("error",a)};return(a,m)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(s).b(),r.shape?e.unref(s).m(r.shape):""]),style:e.normalizeStyle({"--im-avatar-size":(Number(r.size)||36)+"px","--im-avatar-color":r.color||"var(--im-rgb-color-2)","--im-avatar-fit":r.fit})},[!r.src&&!r.srcset?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(s).e("icon")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2)):(e.openBlock(),e.createElementBlock("img",{key:1,onError:l,src:r.src,srcset:r.srcset,alt:r.alt,loading:r.loading,class:e.normalizeClass([e.unref(s).e("img")])},null,42,Me))],6))}}),Re=_(Ae,[["__scopeId","data-v-c4c32038"]]),te=B("ImAvatar",Re),Pe=()=>({onEnter:(o,n)=>{o.style.opacity=0,o.style.transition="opacity 200ms ease",o.getBoundingClientRect(),o.style.opacity=1,n()},onLeave:async(o,n)=>{o.style.opacity=0,o.style.transition="opacity 200ms ease",await new Promise(t=>requestAnimationFrame(t)),o.addEventListener("transitionend",n)}}),Ye=(o="right")=>{let n="",t="";switch(o){case"left":n="translateX(-100%)",t="translateX(-100%)";break;case"right":n="translateX(100%)",t="translateX(100%)";break;case"top":n="translateY(-100%)",t="translateY(-100%)";break;case"bottom":n="translateY(100%)",t="translateY(100%)";break;default:n="translateX(100%)",t="translateX(100%)";break}return{onEnter:(s,r)=>{s.style.transform=n,s.style.transition="transform 200ms ease, opacity 200ms ease",s.style.opacity="0",s.getBoundingClientRect(),s.style.transform="translateX(0)",s.style.opacity="1",r()},onLeave:async(s,r)=>{s.style.transform=t,s.style.opacity="0",s.style.transition="transform 200ms ease, opacity 200ms ease",await new Promise(l=>requestAnimationFrame(l)),s.addEventListener("transitionend",()=>{r()})}}},Fe=e.defineComponent({name:"ImMask",__name:"ImMask",props:{visible:{type:Boolean,default:!1},zIndex:{default:0},closeOnClickMask:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:n}){const t=y("mask"),{zIndexToken:s}=$(),r=o,l=Pe(),a=n,m=()=>{r.closeOnClickMask&&a("close",!1)};return(c,d)=>(e.openBlock(),e.createBlock(e.Transition,{onEnter:e.unref(l).onEnter,onLeave:e.unref(l).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({zIndex:r.zIndex||e.unref(s)}),onClick:m},[e.renderSlot(c.$slots,"default",{},void 0,!0)],6),[[e.vShow,r.visible]])]),_:3},8,["onEnter","onLeave"]))}}),Oe=_(Fe,[["__scopeId","data-v-2ba470f4"]]),Y=B("ImMask",Oe),Xe=["aria-modal"],qe=e.defineComponent({name:"ImDrawer",__name:"ImDrawer",props:{modelValue:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},closeOnClickMask:{type:Boolean,default:!0},placement:{default:"right"},size:{default:378},zIndex:{default:""}},emits:["update:modelValue"],setup(o,{emit:n}){const t=y("drawer"),s=n,r=o,l=e.ref(null),a=Ye(r.placement),{zIndexToken:m}=$(),c=()=>{s("update:modelValue",!1)};return(d,i)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{tabindex:"-1",ref_key:"containerRef",ref:l,class:e.normalizeClass([e.unref(t).b(),r.placement?e.unref(t).m(r.placement):""]),style:e.normalizeStyle({"--im-drawer-size":(parseInt(String(r.size))||378)+"px",zIndex:r.zIndex||e.unref(m)}),"aria-modal":r.modelValue},[r.mask?(e.openBlock(),e.createBlock(e.unref(Y),{key:0,visible:r.modelValue,closeOnClickMask:r.closeOnClickMask,onClose:c,zIndex:"1"},null,8,["visible","closeOnClickMask"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{onEnter:e.unref(a).onEnter,onLeave:e.unref(a).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content")])},[e.renderSlot(d.$slots,"default",{},void 0,!0)],2),[[e.vShow,r.modelValue]])]),_:3},8,["onEnter","onLeave"])],14,Xe)]))}}),We=_(qe,[["__scopeId","data-v-1b0178a0"]]),ne=B("ImDrawer",We),je=e.defineComponent({name:"ImCard",__name:"ImCard",props:{title:{default:""},borderless:{type:Boolean,default:!1},shadow:{default:""}},setup(o){const n=y("card"),t=o;return(s,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("borderless",t.borderless),t.shadow?e.unref(n).m(t.shadow):""])},[e.renderSlot(s.$slots,"header",{},()=>[e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("header")])},[t.title?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("title")])},e.toDisplayString(t.title),3)):e.createCommentVNode("",!0),e.renderSlot(s.$slots,"header-action",{},void 0,!0)],2)],!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("body")])},[e.renderSlot(s.$slots,"default",{},void 0,!0)],2)],2))}}),Ue=_(je,[["__scopeId","data-v-cf1ecfc0"]]),oe=B("ImCard",Ue),He=["data-index","onMouseenter","onMouseleave"],Ge={class:"im-message__text"},Je=e.defineComponent({__name:"Message",props:{callback:{type:Function},add:{type:Function}},setup(o,{expose:n}){const t=y("message"),s=o,r=e.ref([]);let l=null;e.watch(()=>r.value,()=>{r.value.length===0?l=setTimeout(()=>{!r.value.length&&s.callback()},500):(l&&clearTimeout(l),l=null)});const a=i=>{switch(i){case"success":return"check-circle-fill";case"warning":return"warning-circle-fill";case"error":return"close-circle-fill";default:return"info-circle-fill"}},m=i=>{i.timer&&(clearTimeout(i.timer),i.timer=null)},c=i=>{i.timer&&clearTimeout(i.timer),i.timer=setTimeout(()=>{r.value=r.value.filter(u=>u.id!==i.id)},i.duration||3e3)},d=i=>{const u=setTimeout(()=>{r.value=r.value.filter(p=>p.id!==i.id)},i.duration||3e3);r.value.push({...i,timer:u})};return s.add&&s.add(d),n({addMsg:d}),(i,u)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{tag:"ul",name:"list",css:!0,class:e.normalizeClass([e.unref(t).b()])},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,p=>(e.openBlock(),e.createElementBlock("li",{key:p.id,"data-index":p.id,onMouseenter:()=>m(p),onMouseleave:()=>c(p),class:e.normalizeClass(["im-message__item",[e.unref(t).e("item"),p.color?e.unref(t).e(p.color):""]])},[e.createVNode(e.unref(x),{name:a(p.color),size:"18px"},null,8,["name"]),e.createElementVNode("span",Ge,e.toDisplayString(p.msg),1)],42,He))),128))]),_:1},8,["class"]))}}),Ke=_(Je,[["__scopeId","data-v-820c83a9"]]);class Qe{constructor(){T(this,"app");T(this,"container");T(this,"addMsgToList");this.app=null,this.container=null,this.addMsgToList=null}createApp(){if(typeof window<"u"&&window){this.container=document.createElement("div"),this.container.classList.add("im-message-container"),document.body.appendChild(this.container);const n=this;this.app=e.createApp(Ke,{callback:()=>{n.destroy()},add:t=>{n.addMsgToList=t}}),this.app.mount(this.container)}else throw new Error("只能在浏览器环境下使用")}destroy(){var n,t;(n=this.app)==null||n.unmount(),(t=this.container)==null||t.remove(),this.app=null,this.container=null}addMsg(n){if(this.app||this.createApp(),!this.addMsgToList)return console.error("addMsgToList is null");this.addMsgToList({msg:n.msg,id:Math.random().toString().slice(2)+"_"+Date.now(),duration:n.duration||3e3,color:(n==null?void 0:n.color)||"primary"})}info(n,t){this.addMsg({color:"primary",msg:n,duration:t,id:""})}success(n,t){this.addMsg({color:"success",msg:n,duration:t,id:""})}warning(n,t){this.addMsg({color:"warning",msg:n,duration:t,id:""})}error(n,t){this.addMsg({color:"error",msg:n,duration:t,id:""})}}let k=null;const Ze=()=>(k||(k=new Qe),{info:(o,n=3e3)=>{k==null||k.info(o,n)},success:(o,n=3e3)=>{k==null||k.success(o,n)},warning:(o,n=3e3)=>{k==null||k.warning(o,n)},error:(o,n=3e3)=>{k==null||k.error(o,n)}}),et=[D,A,M,R,x,L,H,G,J,K,Q,Z,ee,te,Y,ne,oe],tt=(o,n)=>{o.provide(U,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),o.directive("ripple",le),et.forEach(t=>{t.name?o.component(t.name,t):console.warn(`组件${t}缺少name属性`)})},nt={install:tt};exports.ImAlert=G;exports.ImAnchor=H;exports.ImAvatar=te;exports.ImBreadcrumb=J;exports.ImBreadcrumbItem=K;exports.ImButton=D;exports.ImCard=oe;exports.ImCol=A;exports.ImDivider=L;exports.ImDrawer=ne;exports.ImDropdown=Q;exports.ImIcon=x;exports.ImInput=R;exports.ImList=Z;exports.ImListItem=ee;exports.ImMask=Y;exports.ImRow=M;exports.default=nt;exports.useImMessage=Ze;
