"use strict";var ae=Object.defineProperty;var F=s=>{throw TypeError(s)};var re=(s,n,t)=>n in s?ae(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var S=(s,n,t)=>re(s,typeof n!="symbol"?n+"":n,t),X=(s,n,t)=>n.has(s)||F("Cannot "+t);var T=(s,n,t)=>(X(s,n,"read from private field"),t?t.call(s):n.get(s)),q=(s,n,t)=>n.has(s)?F("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,t),W=(s,n,t,a)=>(X(s,n,"write to private field"),a?a.call(s,t):n.set(s,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),H=Symbol("im-design-token");var z;class le{constructor(){q(this,z);W(this,z,[])}async add(n){T(this,z).push(n)}remove(){try{const n=T(this,z).shift();n&&this.run(n)}catch(n){console.error(n)}}async run(n){try{const t=n.querySelector(".im-ripple__item");if(!t)return;let a=Date.now(),o=t.getAttribute("data-time");const i=a-Number(o)||0;i&&await new Promise(r=>{t.style.opacity="0.1";const m=200-i;setTimeout(()=>{r(null)},m>0?m:0)}),t.style.opacity="0",t.style.transition="all 50ms",setTimeout(()=>{n&&(n==null||n.remove()),T(this,z).length&&this.remove()},50)}catch(t){console.log(t)}}}z=new WeakMap;const ie={mounted(s,n){(function(){s.addEventListener("mousedown",o,{passive:!0}),window.addEventListener("mouseup",i,{passive:!0})})();const a=new le;async function o(r){if(!n.value)return;const m=window.getComputedStyle(s),d=s.getBoundingClientRect(),c=document.createElement("div");c.className="im-ripple",a.add(c);const l=document.createElement("div");l.className="im-ripple__item";const u=r.clientX||r.touches&&r.touches[0].clientX,p=r.clientY||r.touches&&r.touches[0].clientY,f=Math.max(d.width,d.height),h=u-d.left-f/2,b=p-d.top-f/2,w=d.width-d.height<=5;Object.assign(l.style,{"background-color":m.color,width:`${f}px`,height:`${f}px`,left:`${h}px`,top:`${b}px`,opacity:"0.15",transform:w?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),l.setAttribute("data-time",Date.now()+""),c.appendChild(l),s.appendChild(c);const y=m.position;y==="static"&&(s.style.position="relative",s.dataset.originalPosition=y),l.getBoundingClientRect(),l.style.transform="scale(2.8)",l.style.opacity="0.33"}s.im_add_ripple_fn__=o,s.im_remove_ripple_fn__=i;function i(){a.remove()}},unmounted(s){s&&(s!=null&&s.im_add_ripple_fn__)&&s.removeEventListener("mousedown",s.im_add_ripple_fn__),s&&s.im_remove_ripple_fn__&&window.removeEventListener("mouseup",s.im_remove_ripple_fn__)}},g=s=>{const n="im-"+s;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,a)=>a?`is-${t}`:""}},V=(s,n)=>{const t=e.inject(H),a=e.ref(Number(t.size||36)),o=e.ref(t.zIndex||1e3);return{sizeToken:a,zIndexToken:o}},ce={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function de(s,n){return e.openBlock(),e.createElementBlock("svg",ce,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const ue={render:de},me=["tabindex","type","disabled"],pe=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(s,{emit:n}){const t=s,a=n,o=g("button"),{sizeToken:i}=V(),r=e.computed(()=>[o.b(),t.color&&o.m(t.color),t.shape&&o.m(t.shape),t.variant&&o.m(t.variant),o.is("disabled",t.disabled),o.is("loading",t.loading)].filter(Boolean)),m=e.computed(()=>{let l=+(t.size||i.value||36);return{"--im-button-size":l+"px","--im-button-padding":(l*.45).toFixed(0)+"px",width:t.width}}),d=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),c=()=>{t.disabled||t.loading||a("click")};return(l,u)=>{const p=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(r.value),onClick:c,style:e.normalizeStyle(m.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("loading")])},[e.createVNode(e.unref(ue))],2)):e.createCommentVNode("",!0),d.value?e.createCommentVNode("",!0):e.renderSlot(l.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,me)),[[p,!0]])}}}),v=(s,n)=>{const t=s.__vccOpts||s;for(const[a,o]of n)t[a]=o;return t},N=v(pe,[["__scopeId","data-v-fe80f42d"]]);N.install=s=>{s.component("ImButton",N)};const fe=e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(s){const n=s,t=e.useSlots(),a=e.computed(()=>{var i;return((i=t.default)==null?void 0:i.call(t))||[]}),o=g("row");return(i,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,d)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m),{key:d}))),128))],6))}}),M=v(fe,[["__scopeId","data-v-5179967f"]]),ve=e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(s){const n=s,t=g("col"),a=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(o,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":a.value,"--im-col-offset":n.offset})},[e.renderSlot(o.$slots,"default",{},void 0,!0)],6))}}),A=v(ve,[["__scopeId","data-v-ecf91058"]]);M.install=s=>{s.component("ImRow",M)};A.install=s=>{s.component("ImCol",A)};const he=e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=s,{sizeToken:a}=V(),o=n,i=e.ref(t.modelValue),r=g("input"),m=()=>{o("update:modelValue",i.value),o("change",i.value)};return(d,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(a)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(r).e("input")],"onUpdate:modelValue":c[0]||(c[0]=l=>i.value=l)},t,{onInput:m}),null,16),[[e.vModelDynamic,i.value]])],6))}}),P=v(he,[["__scopeId","data-v-6c70856c"]]);P.install=s=>{s.component("ImInput",P)};const ye=e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(s){const n=s;return(t,a)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${n.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(n.size))||16)+"px","--icon-color":n.color})},null,6))}}),x=v(ye,[["__scopeId","data-v-1e711363"]]);x.install=function(s){s.component("ImIcon",x)};const ge=e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(s){const n=g("divider"),t=s;return(a,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("text")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2))],6))}}),L=v(ge,[["__scopeId","data-v-108f9bec"]]);L.name="ImDivider";L.install=function(s){s.component("ImDivider",L)};const I=(s,n)=>(n.install=t=>{t.component(s,n)},n),O=(s,n)=>{let t;return function(...a){t||(t=setTimeout(()=>{s.apply(this,a),t=null},n))}},D=(s,n)=>{let t;return function(...a){t&&clearTimeout(t),t=setTimeout(()=>{s.apply(this,a)},n)}},j=(s,n,t)=>{if(!t)return!1;const a=t.getBoundingClientRect();return s>=a.left&&s<=a.left+a.width&&n>=a.top&&n<=a.top+a.height},_e=["onClick"],ke=e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(s){const n=g("anchor");let t=null;const a=e.ref(null),o=e.ref(null),i=e.ref(null),r=s;e.watch(()=>r.target,()=>{t&&t(),t=c()}),e.onMounted(()=>{t=c()}),e.onUnmounted(()=>{t&&t()});function m(u){let p=u==null?void 0:u.scrollTop;return a.value===window&&(p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),p}function d(u){var w;if(i.value||!a.value)return;const p=a.value===window?u.target:a.value;let f=m(p);const h=p.offsetTop||0,b=(r.data||[]).map(({id:y})=>{const _=document.getElementById(y);return _?{id:y,offsetTop:_.offsetTop-h,el:_}:null}).filter(Boolean);o.value=null;for(let y=0;y<b.length;y++){const _=b[y];if(f>=_.offsetTop-(r.offset||0)&&f<=_.offsetTop+(((w=_.el)==null?void 0:w.clientHeight)||0)-(r.offset||0)){o.value=_.id;return}}if(!o.value&&f>=(parseInt(String(r.offset))||0)){const y=b.find(_=>f<=_.offsetTop-(r.offset||0)&&f>(r.offset||0)?(o.value=_.id,!0):!1);y&&(o.value=y.id)}}function c(){const u=r.target?typeof r.target=="string"?document.querySelector(r.target):r.target:window;if(!u)return null;a.value=u;const p=O(d,50);return d({target:u}),u.addEventListener("scroll",p,{passive:!0}),()=>{u.removeEventListener("scroll",p)}}async function l(u){var h,b,w;if(o.value===u||!u)return;i.value=u,o.value=u;const p=document.getElementById(u);if(!p)return;(b=a.value)==null||b.scrollTo({top:p.offsetTop-(r.offset||0)-(((h=a.value)==null?void 0:h.offsetTop)||0),behavior:"smooth",left:0});const f=D(()=>{var y;i.value=null,(y=a.value)==null||y.removeEventListener("scroll",f)},300);(w=a.value)==null||w.addEventListener("scroll",f,{passive:!0})}return(u,p)=>{const f=e.resolveDirective("ripple");return r.data&&r.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,h=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(n).e("item"),e.unref(n).is("active",o.value===h.id)]),onClick:()=>l(h.id)},[o.value===h.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(h.text),1)],10,_e)),[[f,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),Ie=v(ke,[["__scopeId","data-v-4840d244"]]),U=I("ImAnchor",Ie),be=e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:n}){const t=n,a=e.ref(null),o=s,i=g("alert"),r=e.useSlots(),m=e.computed(()=>!!(o.showIcon&&o.title)),d=e.computed(()=>{switch(o.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),c=async()=>{var l,u;t("close"),(l=a.value)==null||l.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(p=>setTimeout(p,300)),(u=a.value)==null||u.remove()};return(l,u)=>{const p=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:a,class:e.normalizeClass([e.unref(i).b(),e.unref(i).m(o.color||"primary"),o.variant&&e.unref(i).m(o.variant||"")])},[o.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("icon")])},[e.renderSlot(l.$slots,"icon",{},()=>[e.createVNode(e.unref(x),{name:d.value,size:m.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("content")])},[o.title||e.unref(r).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("title")])},[e.renderSlot(l.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(o.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("message")])},[e.renderSlot(l.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(o.message),1)],!0)],2)],2),o.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(i).e("close")]),onClick:c},[e.renderSlot(l.$slots,"close",{},()=>[e.createVNode(e.unref(x),{name:"close",size:"16"})],!0)],2)),[[p,!0]]):e.createCommentVNode("",!0)],2)}}}),we=v(be,[["__scopeId","data-v-d11fdcb2"]]),G=I("ImAlert",we),Be=e.defineComponent({name:"ImBreadcrumb",__name:"ImBreadcrumb",props:{modelValue:{default:""},separator:{default:"/"}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=e.useSlots(),a=n,o=g("breadcrumb"),i=s,r=e.computed(()=>{var d,c;return(c=(d=t.default)==null?void 0:d.call(t))==null?void 0:c.filter(l=>{var u;return(l==null?void 0:l.type)&&((u=l==null?void 0:l.type)==null?void 0:u.name)==="ImBreadcrumbItem"})}),m=d=>{d&&i.modelValue!==d&&(a("update:modelValue",d),a("change",d))};return(d,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(l,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{active:i.modelValue,onClick:m},null,8,["active"])),r.value&&r.value.length>0&&u<r.value.length-1?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("separator")])},[e.renderSlot(d.$slots,"separator",{},()=>[e.createTextVNode(e.toDisplayString(i.separator),1)],!0)],2)):e.createCommentVNode("",!0)],64))),256))],2))}}),Ce=v(Be,[["__scopeId","data-v-64336468"]]),Ee=e.defineComponent({name:"ImBreadcrumbItem",__name:"ImBreadcrumbItem",props:{active:{},value:{default:Math.random().toString()}},emits:["click"],setup(s,{emit:n}){const t=g("breadcrumb__item"),a=s,o=n;return(i,r)=>(e.openBlock(),e.createElementBlock("div",{onClick:r[0]||(r[0]=()=>o("click",a.value)),class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",a.active===a.value&&!!a.value)])},[e.renderSlot(i.$slots,"default",{},void 0,!0)],2))}}),ze=v(Ee,[["__scopeId","data-v-40ed04b1"]]),J=I("ImBreadcrumb",Ce),K=I("ImBreadcrumb",ze),xe=(s=50)=>{const n=e.ref(0),t=e.ref(0),a=O(o=>{n.value=o.clientX,t.value=o.clientY},s);return e.onMounted(()=>{window.addEventListener("mousemove",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",a)}),{x:n,y:t}},Le=(s,n,t,a="bottomLeft")=>{e.watch(()=>s.value,()=>{s.value&&o()});async function o(){var p;await new Promise(f=>requestAnimationFrame(f));const i=n==null?void 0:n.value,r=t==null?void 0:t.value;if(!i||!r)return;const d=(((p=i.children)==null?void 0:p.length)!=1?i:i.children[0]).getBoundingClientRect(),c=d.bottom,l=r.getBoundingClientRect(),u=2;switch(a){case"bottom":r.style.setProperty("top",`${c+u}px`),r.style.setProperty("left",`${d.left+d.width/2-l.width/2}px`);break;case"bottomRight":r.style.setProperty("top",`${c+u}px`),r.style.setProperty("left",`${d.left+d.width-l.width}px`);break;case"top":r.style.setProperty("top",`${d.top-l.height-u}px`),r.style.setProperty("left",`${d.left+d.width/2-l.width/2}px`);break;case"topRight":r.style.setProperty("top",`${d.top-l.height-u}px`),r.style.setProperty("left",`${d.right-l.width}px`);break;case"topLeft":r.style.setProperty("top",`${d.top-l.height-u}px`),r.style.setProperty("left",`${d.left}px`);break;default:r.style.setProperty("top",`${c+u}px`),r.style.setProperty("left",`${d.left}px`);break}}},Ve=s=>{const n=s.toLowerCase().includes("bottom")?"translateY(-10px)":"translateY(10px)";function t(o,i){o.style.transform=n,o.style.opacity="0",o.style.pointerEvents="none",o.getBoundingClientRect(),o.style.transform="translateY(0px)",o.style.opacity="1",o.style.pointerEvents="auto",i()}async function a(o,i){o.style.transform=n,o.style.opacity="0",o.getBoundingClientRect();const r=()=>{i(),o&&(o.style.transform="translateY(0px)"),o.removeEventListener("transitionend",r)};o.addEventListener("transitionend",r,{passive:!0})}return{onEnter:t,onLeave:a}},$e=e.defineComponent({name:"ImDropdown",__name:"ImDropdown",props:{modelValue:{type:Boolean,default:!1},trigger:{default:"hover"},placement:{default:"bottomLeft"},zIndex:{default:void 0}},emits:["update:modelValue","change"],setup(s,{emit:n}){var _;const t=n,a=g("dropdown"),o=s,i=e.ref(null),r=e.ref(null),m=e.ref(o.modelValue||!1),d=Ve((_=o.placement)!=null&&_.includes("top")?"top":"bottom");let c=null,l=100;const{x:u,y:p}=xe(30),{zIndexToken:f}=V();Le(m,i,r,o.placement),e.onMounted(()=>{c&&c(),c=y()}),e.onUnmounted(()=>{c&&c()}),e.watch(()=>o.trigger,()=>{c&&c(),c=y()});const h=O(()=>{const C=j(u.value,p.value,r.value);j(u.value,p.value,i.value)||C||(m.value=!1)},l);e.watch(()=>[u.value,p.value],()=>{o.trigger!="hover"||!m.value||h()});function b(){m.value=!0,t("update:modelValue",m.value),t("change",m.value),window.addEventListener("scroll",w,{passive:!0,capture:!0})}function w(){m.value=!1,t("update:modelValue",m.value),t("change",m.value),window.removeEventListener("scroll",close)}function y(){var $,Y;c&&c();const C=D(E=>{var B;(B=i.value)!=null&&B.contains(E.target)||w()},l);if(document.addEventListener("click",C,{passive:!0}),o.trigger==="hover"){const E=D(b,l);return($=i.value)==null||$.addEventListener("mouseenter",E,{passive:!0}),()=>{var B;(B=i.value)==null||B.removeEventListener("mouseenter",E),document.removeEventListener("click",C)}}if(o.trigger==="click"){const E=D(()=>{m.value?w():b()},l);return(Y=i.value)==null||Y.addEventListener("click",E,{passive:!0}),()=>{var B;(B=i.value)==null||B.removeEventListener("click",E),document.removeEventListener("click",C)}}return null}return(C,$)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b()]),ref_key:"dropdownRef",ref:i},[e.renderSlot(C.$slots,"default",{},void 0,!0),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{onEnter:e.unref(d).onEnter,onLeave:e.unref(d).onLeave,duration:{enter:300,leave:200}},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(a).e("content")]),ref_key:"contentRef",ref:r,style:e.normalizeStyle({zIndex:o.zIndex||e.unref(f)})},[e.renderSlot(C.$slots,"content",{},void 0,!0)],6),[[e.vShow,m.value]])]),_:3},8,["onEnter","onLeave"])]))],2))}}),Se=v($e,[["__scopeId","data-v-c394ceaa"]]),Q=I("ImDropdown",Se),Te=e.defineComponent({name:"ImList",__name:"ImList",props:{modelValue:{default:""}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=s,a=e.useSlots(),o=g("list"),i=e.computed(()=>{var c;const d=((c=a.default)==null?void 0:c.call(a))||[];if(d.length){const l=[];return d.forEach(u=>{var p,f;typeof u.type=="object"?l.push(u):u.children&&((p=u.children)!=null&&p.length)&&((f=u.children)==null||f.forEach(h=>{typeof(h==null?void 0:h.type)=="object"&&l.push(h)}))}),l}}),r=n,m=d=>{r("update:modelValue",d.value),r("change",d.value)};return(d,c)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,l=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{active:t.modelValue,onClick:()=>m(l.props)},null,8,["active","onClick"]))),256))],2))}}),De=v(Te,[["__scopeId","data-v-9599f63c"]]),Ne=e.defineComponent({name:"ImListItem",__name:"ImListItem",props:{disabled:{type:Boolean,default:!1},value:{default:""},active:{default:""},ripple:{type:Boolean,default:!0}},emits:["click"],setup(s,{emit:n}){const t=g("list__item"),a=n,o=s;return(i,r)=>{const m=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",!!(o.active&&o.active===o.value))]),onClick:r[0]||(r[0]=d=>a("click",d))},[e.renderSlot(i.$slots,"default",{},void 0,!0)],2)),[[m,o.ripple]])}}}),Me=v(Ne,[["__scopeId","data-v-41ec0ba7"]]),Z=I("ImList",De),ee=I("ImListItem",Me),Ae=["src","srcset","alt","loading"],Pe=e.defineComponent({name:"ImAvatar",__name:"ImAvatar",props:{size:{default:36},src:{default:""},alt:{default:""},title:{default:""},crossOrigin:{default:"anonymous"},fit:{default:"cover"},srcset:{default:""},loading:{default:"eager"},shape:{default:"circle"},color:{default:""}},emits:["error"],setup(s,{emit:n}){const t=n,a=g("avatar"),o=s,i=r=>{console.log(r.target),t("error",r)};return(r,m)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b(),o.shape?e.unref(a).m(o.shape):""]),style:e.normalizeStyle({"--im-avatar-size":(Number(o.size)||36)+"px","--im-avatar-color":o.color||"var(--im-rgb-color-2)","--im-avatar-fit":o.fit})},[!o.src&&!o.srcset?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(a).e("icon")])},[e.renderSlot(r.$slots,"default",{},void 0,!0)],2)):(e.openBlock(),e.createElementBlock("img",{key:1,onError:i,src:o.src,srcset:o.srcset,alt:o.alt,loading:o.loading,class:e.normalizeClass([e.unref(a).e("img")])},null,42,Ae))],6))}}),Re=v(Pe,[["__scopeId","data-v-c4c32038"]]),te=I("ImAvatar",Re),Oe=()=>({onEnter:(s,n)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",s.getBoundingClientRect(),s.style.opacity=1,n()},onLeave:async(s,n)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",await new Promise(a=>requestAnimationFrame(a));const t=()=>{n(),s&&s.removeEventListener("transitionend",t)};s.addEventListener("transitionend",t)}}),Ye=(s="right")=>{let n="",t="";switch(s){case"left":n="translateX(-100%)",t="translateX(-100%)";break;case"right":n="translateX(100%)",t="translateX(100%)";break;case"top":n="translateY(-100%)",t="translateY(-100%)";break;case"bottom":n="translateY(100%)",t="translateY(100%)";break;default:n="translateX(100%)",t="translateX(100%)";break}return{onEnter:(a,o)=>{a.style.transform=n,a.style.transition="transform 200ms ease, opacity 200ms ease",a.style.opacity="0",a.getBoundingClientRect(),a.style.transform="translateX(0)",a.style.opacity="1",o()},onLeave:async(a,o)=>{a.style.transform=t,a.style.opacity="0",a.style.transition="transform 200ms ease, opacity 200ms ease",await new Promise(r=>requestAnimationFrame(r));const i=()=>{o(),a&&a.removeEventListener("transitionend",i)};a.addEventListener("transitionend",i,{passive:!0})}}},Fe=e.defineComponent({name:"ImMask",__name:"ImMask",props:{visible:{type:Boolean,default:!1},zIndex:{default:0},closeOnClickMask:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:n}){const t=g("mask"),{zIndexToken:a}=V(),o=s,i=Oe(),r=n,m=()=>{o.closeOnClickMask&&r("close",!1)};return(d,c)=>(e.openBlock(),e.createBlock(e.Transition,{onEnter:e.unref(i).onEnter,onLeave:e.unref(i).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({zIndex:o.zIndex||e.unref(a)}),onClick:m},[e.renderSlot(d.$slots,"default",{},void 0,!0)],6),[[e.vShow,o.visible]])]),_:3},8,["onEnter","onLeave"]))}}),Xe=v(Fe,[["__scopeId","data-v-2ba470f4"]]),R=I("ImMask",Xe),qe=["aria-modal"],We=e.defineComponent({name:"ImDrawer",__name:"ImDrawer",props:{modelValue:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},closeOnClickMask:{type:Boolean,default:!0},placement:{default:"right"},size:{default:378},zIndex:{default:""}},emits:["update:modelValue"],setup(s,{emit:n}){const t=g("drawer"),a=n,o=s,i=e.ref(null),r=Ye(o.placement),{zIndexToken:m}=V(),d=()=>{a("update:modelValue",!1)};return(c,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{tabindex:"-1",ref_key:"containerRef",ref:i,class:e.normalizeClass([e.unref(t).b(),o.placement?e.unref(t).m(o.placement):""]),style:e.normalizeStyle({"--im-drawer-size":(parseInt(String(o.size))||378)+"px",zIndex:o.zIndex||e.unref(m)}),"aria-modal":o.modelValue},[o.mask?(e.openBlock(),e.createBlock(e.unref(R),{key:0,visible:o.modelValue,closeOnClickMask:o.closeOnClickMask,onClose:d,zIndex:"1"},null,8,["visible","closeOnClickMask"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{onEnter:e.unref(r).onEnter,onLeave:e.unref(r).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content")])},[e.renderSlot(c.$slots,"default",{},void 0,!0)],2),[[e.vShow,o.modelValue]])]),_:3},8,["onEnter","onLeave"])],14,qe)]))}}),je=v(We,[["__scopeId","data-v-1b0178a0"]]),ne=I("ImDrawer",je),He=e.defineComponent({name:"ImCard",__name:"ImCard",props:{title:{default:""},borderless:{type:Boolean,default:!1},shadow:{default:""}},setup(s){const n=g("card"),t=s;return(a,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("borderless",t.borderless),t.shadow?e.unref(n).m(t.shadow):""])},[e.renderSlot(a.$slots,"header",{},()=>[t.title||a.$slots["header-action"]?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(n).e("header")])},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(n).e("title")])},e.toDisplayString(t.title),3),e.renderSlot(a.$slots,"header-action",{},void 0,!0)],2)):e.createCommentVNode("",!0)],!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("body")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2)],2))}}),Ue=v(He,[["__scopeId","data-v-bb9cd52c"]]),oe=I("ImCard",Ue),Ge=["data-index","onMouseenter","onMouseleave"],Je={class:"im-message__text"},Ke=e.defineComponent({__name:"Message",props:{callback:{type:Function},add:{type:Function}},setup(s,{expose:n}){const t=g("message"),a=s,o=e.ref([]);let i=null;e.watch(()=>o.value,()=>{o.value.length===0?i=setTimeout(()=>{!o.value.length&&a.callback()},500):(i&&clearTimeout(i),i=null)});const r=l=>{switch(l){case"success":return"check-circle-fill";case"warning":return"warning-circle-fill";case"error":return"close-circle-fill";default:return"info-circle-fill"}},m=l=>{l.timer&&(clearTimeout(l.timer),l.timer=null)},d=l=>{l.timer&&clearTimeout(l.timer),l.timer=setTimeout(()=>{o.value=o.value.filter(u=>u.id!==l.id)},l.duration||3e3)},c=l=>{const u=setTimeout(()=>{o.value=o.value.filter(p=>p.id!==l.id)},l.duration||3e3);o.value.push({...l,timer:u})};return a.add&&a.add(c),n({addMsg:c}),(l,u)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{tag:"ul",name:"list",css:!0,class:e.normalizeClass([e.unref(t).b()])},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,p=>(e.openBlock(),e.createElementBlock("li",{key:p.id,"data-index":p.id,onMouseenter:()=>m(p),onMouseleave:()=>d(p),class:e.normalizeClass(["im-message__item",[e.unref(t).e("item"),p.color?e.unref(t).e(p.color):""]])},[e.createVNode(e.unref(x),{name:r(p.color),size:"18px"},null,8,["name"]),e.createElementVNode("span",Je,e.toDisplayString(p.msg),1)],42,Ge))),128))]),_:1},8,["class"]))}}),Qe=v(Ke,[["__scopeId","data-v-820c83a9"]]);class Ze{constructor(){S(this,"app");S(this,"container");S(this,"addMsgToList");this.app=null,this.container=null,this.addMsgToList=null}createApp(){if(typeof window<"u"&&window){this.container=document.createElement("div"),this.container.classList.add("im-message-container"),document.body.appendChild(this.container);const n=this;this.app=e.createApp(Qe,{callback:()=>{n.destroy()},add:t=>{n.addMsgToList=t}}),this.app.mount(this.container)}else throw new Error("只能在浏览器环境下使用")}destroy(){var n,t;(n=this.app)==null||n.unmount(),(t=this.container)==null||t.remove(),this.app=null,this.container=null}addMsg(n){if(this.app||this.createApp(),!this.addMsgToList)return console.error("addMsgToList is null");this.addMsgToList({msg:n.msg,id:Math.random().toString().slice(2)+"_"+Date.now(),duration:n.duration||3e3,color:(n==null?void 0:n.color)||"primary"})}info(n,t){this.addMsg({color:"primary",msg:n,duration:t,id:""})}success(n,t){this.addMsg({color:"success",msg:n,duration:t,id:""})}warning(n,t){this.addMsg({color:"warning",msg:n,duration:t,id:""})}error(n,t){this.addMsg({color:"error",msg:n,duration:t,id:""})}}let k=null;const et=()=>(k||(k=new Ze),{info:(s,n=3e3)=>{k==null||k.info(s,n)},success:(s,n=3e3)=>{k==null||k.success(s,n)},warning:(s,n=3e3)=>{k==null||k.warning(s,n)},error:(s,n=3e3)=>{k==null||k.error(s,n)}}),tt=["data-visible","data-esc"],nt=e.defineComponent({name:"ImDialog",__name:"ImDialog",props:{modelValue:{type:Boolean,default:!1},closeOnClickMask:{type:Boolean,default:!0},width:{default:"420px"},height:{default:"auto"},fullscreen:{type:Boolean,default:!1},closeOnEscape:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(s,{emit:n}){const t=g("dialog"),a=n,o=s,i=e.ref(null);e.watch(()=>o.modelValue,c=>{c?o.closeOnEscape&&window.addEventListener("keydown",r,{passive:!0}):window.removeEventListener("keydown",r)});function r(c){if(c.key==="Escape"||c.code==="Escape"){const l=document.querySelectorAll('.im-dialog[data-visible="true"][data-esc="true"]');l.length&&i.value&&Array.from(l).pop()===i.value&&a("update:modelValue",!1)}}const m=async(c,l)=>{c.style.setProperty("opacity","0"),c.style.setProperty("transition","all 0.2s ease"),o.fullscreen?c.style.setProperty("transform","translateY(100%)"):c.style.setProperty("transform","scale(0.98)"),c.getBoundingClientRect(),c.style.setProperty("opacity","1"),c.style.setProperty("transform","translateY(0) scale(1)"),l(),!document.body.classList.contains("im-overflow-hidden")&&document.body.classList.add("im-overflow-hidden")},d=async(c,l)=>{c.style.setProperty("opacity","0"),o.fullscreen?c.style.setProperty("transform","translateY(100%)"):c.style.setProperty("transform","scale(0.98)"),c.style.setProperty("transition","all 0.2s ease");const u=()=>{l(),Array.from(document.body.querySelectorAll('.im-dialog[data-visible="true"]')).length||document.body.classList.remove("im-overflow-hidden"),c.removeEventListener("transitionend",u)};c.addEventListener("transitionend",u,{passive:!0})};return(c,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{"aria-modal":"true",class:e.normalizeClass([e.unref(t).b()]),tabindex:"-1","data-visible":o.modelValue,"data-esc":o.closeOnEscape,ref_key:"dialogRef",ref:i},[e.createVNode(e.unref(R),{closeOnClickMask:o.closeOnClickMask,visible:o.modelValue,onClose:l[0]||(l[0]=()=>a("update:modelValue",!1))},null,8,["closeOnClickMask","visible"]),e.createVNode(e.Transition,{onEnter:m,duration:{enter:200,leave:200},onLeave:d},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content"),e.unref(t).is("fullscreen",o.fullscreen),"im-shadow"]),style:e.normalizeStyle({maxWidth:o.width,width:o.width,height:o.height})},[e.renderSlot(c.$slots,"default",{},void 0,!0)],6),[[e.vShow,o.modelValue]])]),_:3})],10,tt)]))}}),ot=v(nt,[["__scopeId","data-v-b6a6ad9a"]]),se=I("ImDialog",ot),st=[N,A,M,P,x,L,U,G,J,K,Q,Z,ee,te,R,ne,oe,se],at=(s,n)=>{s.provide(H,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),s.directive("ripple",ie),st.forEach(t=>{t.name?s.component(t.name,t):console.warn(`组件${t}缺少name属性`)})},rt={install:at};exports.ImAlert=G;exports.ImAnchor=U;exports.ImAvatar=te;exports.ImBreadcrumb=J;exports.ImBreadcrumbItem=K;exports.ImButton=N;exports.ImCard=oe;exports.ImCol=A;exports.ImDialog=se;exports.ImDivider=L;exports.ImDrawer=ne;exports.ImDropdown=Q;exports.ImIcon=x;exports.ImInput=P;exports.ImList=Z;exports.ImListItem=ee;exports.ImMask=R;exports.ImRow=M;exports.default=rt;exports.useImMessage=et;
