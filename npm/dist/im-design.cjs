"use strict";var _=n=>{throw TypeError(n)};var b=(n,t,e)=>t.has(n)||_("Cannot "+e);var g=(n,t,e)=>(b(n,t,"read from private field"),e?e.call(n):t.get(n)),y=(n,t,e)=>t.has(n)?_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),w=(n,t,e,s)=>(b(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),x=Symbol("im-design-token"),E=n=>{const t="im-"+n;return{b:()=>t,e:e=>`${t}__${e}`,m:e=>`${t}--${e}`,is:(e,s)=>s?`is-${e}`:""}},M=(n,t)=>{const e=o.inject(x),s=o.ref(Number(e.size||36)),i=o.ref(e.zIndex||1e3);return{sizeToken:s,zIndexToken:i}},T={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function k(n,t){return o.openBlock(),o.createElementBlock("svg",T,t[0]||(t[0]=[o.createElementVNode("path",{d:"M481.835 512 155.584 185.75a21.333 21.333 0 0 1 30.165-30.166L512 481.834l326.25-326.25a21.333 21.333 0 0 1 30.166 30.165L542.166 512l326.25 326.25a21.333 21.333 0 0 1-30.165 30.166L512 542.166l-326.25 326.25a21.333 21.333 0 1 1-30.166-30.165z"},null,-1)]))}const j={render:k},L=Object.freeze(Object.defineProperty({__proto__:null,default:j,render:k},Symbol.toStringTag,{value:"Module"})),N={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function S(n,t){return o.openBlock(),o.createElementBlock("svg",N,t[0]||(t[0]=[o.createElementVNode("path",{d:"M448 768c176.725 0 320-143.275 320-320S624.725 128 448 128 128 271.275 128 448s143.275 320 320 320m0 42.667C247.701 810.667 85.333 648.299 85.333 448S247.701 85.333 448 85.333 810.667 247.701 810.667 448 648.299 810.667 448 810.667m304.917-27.584a21.333 21.333 0 0 1 30.166-30.166L933.93 903.765a21.333 21.333 0 0 1-30.166 30.166L752.917 783.104z"},null,-1)]))}const O={render:S},V=Object.freeze(Object.defineProperty({__proto__:null,default:O,render:S},Symbol.toStringTag,{value:"Module"})),P={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function B(n,t){return o.openBlock(),o.createElementBlock("svg",P,t[0]||(t[0]=[o.createElementVNode("path",{d:"M763.84 896c-47.128 0-85.333-38.205-85.333-85.333s38.205-85.333 85.333-85.333 85.333 38.205 85.333 85.333S810.968 896 763.84 896M329.92 558.848c-14.895 26.231-42.641 43.638-74.453 43.638-47.128 0-85.333-38.205-85.333-85.333 0-16.097 4.457-31.152 12.204-44 14.935-24.769 42.098-41.333 73.13-41.333 47.128 0 85.333 38.205 85.333 85.333 0 15.317-4.035 29.691-11.101 42.117M763.84 128c47.128 0 85.333 38.205 85.333 85.333s-38.205 85.333-85.333 85.333-85.333-38.205-85.333-85.333S716.712 128 763.84 128m0 554.667h-.072c-39.16 0-74.203 17.626-97.628 45.378L376.255 560.982c4.932-13.101 7.787-28.245 7.787-44.055v-.595c0-15.81-2.855-30.953-8.077-44.942l295.544-169.566c23.265 24.363 56.001 39.509 92.275 39.509h.059c70.689 0 127.997-57.308 127.997-128s-57.308-128-128-128-128 57.308-128 128c0 18.965 4.224 36.907 11.627 53.099L355.179 435.179c-23.653-28.833-59.285-47.084-99.18-47.084-70.692 0-128 57.308-128 128l.001.564-.001.484c0 70.692 57.308 128 128 128 39.895 0 75.526-18.251 99.001-46.86l289.373 166.752c-5.397 13.568-8.529 29.29-8.533 45.743 0 70.582 57.308 127.889 128 127.889s128-57.308 128-128-57.308-128-128-128"},null,-1)]))}const D={render:B},R=Object.freeze(Object.defineProperty({__proto__:null,default:D,render:B},Symbol.toStringTag,{value:"Module"})),q={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function C(n,t){return o.openBlock(),o.createElementBlock("svg",q,t[0]||(t[0]=[o.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const X={render:C},Y=Object.freeze(Object.defineProperty({__proto__:null,default:X,render:C},Symbol.toStringTag,{value:"Module"})),A=["tabindex","type","disabled"],h=o.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{}},emits:["click"],setup(n,{emit:t}){const e=n,s=t,i=E("button"),{sizeToken:c}=M(),p=o.computed(()=>[i.b(),e.color&&i.m(e.color),e.shape&&i.m(e.shape),e.variant&&i.m(e.variant),i.is("disabled",e.disabled),i.is("loading",e.loading)].filter(Boolean)),r=o.computed(()=>{let d=+(e.size||c.value||36);return{"--im-button-size":d+"px","--im-button-padding":(d*.4).toFixed(0)+"px"}}),a=o.computed(()=>e.loading&&["square","circle"].includes(e.shape)),l=()=>{e.disabled||e.loading||s("click")};return(d,f)=>{const u=o.resolveDirective("ripple");return o.withDirectives((o.openBlock(),o.createElementBlock("button",{class:o.normalizeClass(p.value),onClick:l,style:o.normalizeStyle(r.value),tabindex:e.tabindex||0,type:e.type||"button",disabled:e.disabled||e.loading},[e.loading?(o.openBlock(),o.createElementBlock("span",{key:0,class:o.normalizeClass([o.unref(i).e("loading")])},[o.createVNode(o.unref(Y))],2)):o.createCommentVNode("",!0),a.value?o.createCommentVNode("",!0):o.renderSlot(d.$slots,"default",{key:1},()=>[o.createTextVNode(o.toDisplayString(e.text),1)])],14,A)),[[u]])}}});h.install=n=>{n.component("ImButton",h)};var m;class F{constructor(){y(this,m);w(this,m,[])}add(t){g(this,m).push(t)}remove(){try{const t=g(this,m).shift();t&&this.run(t)}catch(t){console.error(t)}}run(t){try{if(t.getAttribute("data-remove")==="on"){const e=t.querySelector(".im-ripple__item");if(!e)return;e.style.opacity="0",e.style.transition="opacity 0.13s ease-out",setTimeout(()=>{t.remove()},150)}else setTimeout(()=>{this.run(t)},30)}catch(e){console.log(e)}}}m=new WeakMap;const G={mounted(n){(function(){n.addEventListener("mousedown",s,{passive:!0}),n.addEventListener("mouseup",i,{passive:!0})})();const e=new F;async function s(c){const p=window.getComputedStyle(n),r=n.getBoundingClientRect(),a=document.createElement("div");a.className="im-ripple",e.add(a);const l=document.createElement("div");l.className="im-ripple__item";const d=c.clientX||c.touches&&c.touches[0].clientX,f=c.clientY||c.touches&&c.touches[0].clientY,u=Math.max(r.width,r.height),I=d-r.left-u/2,z=f-r.top-u/2,$=r.width-r.height<=5;Object.assign(l.style,{"background-color":p.color,width:`${u}px`,height:`${u}px`,left:`${I}px`,top:`${z}px`,opacity:.33,transform:$?"scale(1)":"scale(0.75)","will-change":"transform,opacity"}),a.appendChild(l),n.appendChild(a);const v=p.position;v==="static"&&(n.style.position="relative",n.dataset.originalPosition=v),l.getBoundingClientRect(),l.style.transform="scale(4)",l.addEventListener("transitionend",()=>{a.setAttribute("data-remove","on")},{once:!0})}function i(){e.remove()}}},H=[h],J={install(n,t){n.provide(x,{size:(t==null?void 0:t.size)||36,zIndex:(t==null?void 0:t.zIndex)||1e3}),n.directive("ripple",G),H.forEach(e=>{e.name?n.component(e.name,e):console.warn(`组件${e}缺少name属性`)})}};exports.ImButton=h;exports.ImIconClose=L;exports.ImIconSearch=V;exports.ImIconShare=R;exports.default=J;
