"use strict";var B=o=>{throw TypeError(o)};var z=(o,n,t)=>n.has(o)||B("Cannot "+t);var k=(o,n,t)=>(z(o,n,"read from private field"),t?t.call(o):n.get(o)),C=(o,n,t)=>n.has(o)?B("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(o):n.set(o,t),w=(o,n,t,s)=>(z(o,n,"write to private field"),s?s.call(o,t):n.set(o,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),S=Symbol("im-design-token"),b=o=>{const n="im-"+o;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,s)=>s?`is-${t}`:""}},$=(o,n)=>{const t=e.inject(S),s=e.ref(Number(t.size||36)),i=e.ref(t.zIndex||1e3);return{sizeToken:s,zIndexToken:i}},R={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function T(o,n){return e.openBlock(),e.createElementBlock("svg",R,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const D={render:T},M=["tabindex","type","disabled"],f=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(o,{emit:n}){const t=o,s=n,i=b("button"),{sizeToken:l}=$(),a=e.computed(()=>[i.b(),t.color&&i.m(t.color),t.shape&&i.m(t.shape),t.variant&&i.m(t.variant),i.is("disabled",t.disabled),i.is("loading",t.loading)].filter(Boolean)),u=e.computed(()=>{let c=+(t.size||l.value||36);return{"--im-button-size":c+"px","--im-button-padding":(c*.45).toFixed(0)+"px",width:t.width}}),r=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),m=()=>{t.disabled||t.loading||s("click")};return(c,x)=>{const v=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(a.value),onClick:m,style:e.normalizeStyle(u.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(i).e("loading")])},[e.createVNode(e.unref(D))],2)):e.createCommentVNode("",!0),r.value?e.createCommentVNode("",!0):e.renderSlot(c.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)])],14,M)),[[v,!0]])}}});f.install=o=>{o.component("ImButton",f)};var p;class j{constructor(){C(this,p);w(this,p,[])}async add(n){k(this,p).push(n)}remove(){try{const n=k(this,p).shift();n&&this.run(n)}catch(n){console.error(n)}}run(n){try{const t=n.querySelector(".im-ripple__item");if(!t)return;t.style.opacity="0",t.style.transition="all 200ms ease-out",t.getBoundingClientRect(),setTimeout(()=>{n.remove()},200)}catch(t){console.log(t)}}}p=new WeakMap;const q={mounted(o,n){(function(){o.addEventListener("mousedown",i,{passive:!0}),o.addEventListener("mouseup",l,{passive:!0})})();const s=new j;async function i(a){if(!n.value)return;const u=window.getComputedStyle(o),r=o.getBoundingClientRect(),m=document.createElement("div");m.className="im-ripple",s.add(m);const c=document.createElement("div");c.className="im-ripple__item";const x=a.clientX||a.touches&&a.touches[0].clientX,v=a.clientY||a.touches&&a.touches[0].clientY,d=Math.max(r.width,r.height),E=x-r.left-d/2,N=v-r.top-d/2,V=r.width-r.height<=5;Object.assign(c.style,{"background-color":u.color,width:`${d}px`,height:`${d}px`,left:`${E}px`,top:`${N}px`,opacity:"0.25",transform:V?"scale(0.88)":"scale(0.66)","will-change":"transform,opacity"}),m.appendChild(c),o.appendChild(m);const I=u.position;I==="static"&&(o.style.position="relative",o.dataset.originalPosition=I),c.getBoundingClientRect(),c.style.transform="scale(5)",c.style.opacity="0.33"}function l(){s.remove()}}},h=e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(o){const n=o,t=e.useSlots(),s=e.computed(()=>{var l;return((l=t.default)==null?void 0:l.call(t))||[]}),i=b("row");return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(i).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(u,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u),{key:r}))),128))],6))}}),y=e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(o){const n=o,t=b("col"),s=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(i,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":s.value,"--im-col-offset":n.offset})},[e.renderSlot(i.$slots,"default")],6))}});h.install=o=>{o.component("ImRow",h)};y.install=o=>{o.component("ImCol",y)};const g=e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=o,{sizeToken:s}=$(),i=n,l=e.ref(t.modelValue),a=b("input"),u=()=>{i("update:modelValue",l.value),i("change",l.value)};return(r,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(a).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(s)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(a).e("input")],"onUpdate:modelValue":m[0]||(m[0]=c=>l.value=c)},t,{onInput:u}),null,16),[[e.vModelDynamic,l.value]])],6))}});g.install=o=>{o.component("ImInput",g)};const _=e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:Number,color:String},setup(o){const n=o;return(t,s)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${n.name}`]]),style:e.normalizeStyle({"--icon-size":n.size||"16px","--icon-color":n.color})},null,6))}});_.install=function(o){o.component("ImIcon",_)};const L=[f,y,h,g,_],P={install(o,n){o.provide(S,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),o.directive("ripple",q),L.forEach(t=>{t.name?o.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};exports.ImButton=f;exports.ImCol=y;exports.ImIcon=_;exports.ImInput=g;exports.ImRow=h;exports.default=P;
