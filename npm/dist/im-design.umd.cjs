(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l.ImDesign={},l.Vue))})(this,function(l,e){"use strict";var N=l=>{throw TypeError(l)};var T=(l,e,r)=>e.has(l)||N("Cannot "+r);var w=(l,e,r)=>(T(l,e,"read from private field"),r?r.call(l):e.get(l)),L=(l,e,r)=>e.has(l)?N("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,r),V=(l,e,r,f)=>(T(l,e,"write to private field"),f?f.call(l,r):e.set(l,r),r);var h;const r=Symbol("im-design-token"),f=o=>{const n="im-"+o;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,i)=>i?`is-${t}`:""}},B=(o,n)=>{const t=e.inject(r),i=e.ref(Number(t.size||36)),s=e.ref(t.zIndex||1e3);return{sizeToken:i,zIndexToken:s}},M={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function k(o,n){return e.openBlock(),e.createElementBlock("svg",M,n[0]||(n[0]=[e.createElementVNode("path",{d:"M481.835 512 155.584 185.75a21.333 21.333 0 0 1 30.165-30.166L512 481.834l326.25-326.25a21.333 21.333 0 0 1 30.166 30.165L542.166 512l326.25 326.25a21.333 21.333 0 0 1-30.165 30.166L512 542.166l-326.25 326.25a21.333 21.333 0 1 1-30.166-30.165z"},null,-1)]))}const j=Object.freeze(Object.defineProperty({__proto__:null,default:{render:k},render:k},Symbol.toStringTag,{value:"Module"})),R={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function C(o,n){return e.openBlock(),e.createElementBlock("svg",R,n[0]||(n[0]=[e.createElementVNode("path",{d:"M448 768c176.725 0 320-143.275 320-320S624.725 128 448 128 128 271.275 128 448s143.275 320 320 320m0 42.667C247.701 810.667 85.333 648.299 85.333 448S247.701 85.333 448 85.333 810.667 247.701 810.667 448 648.299 810.667 448 810.667m304.917-27.584a21.333 21.333 0 0 1 30.166-30.166L933.93 903.765a21.333 21.333 0 0 1-30.166 30.166L752.917 783.104z"},null,-1)]))}const O=Object.freeze(Object.defineProperty({__proto__:null,default:{render:C},render:C},Symbol.toStringTag,{value:"Module"})),P={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function S(o,n){return e.openBlock(),e.createElementBlock("svg",P,n[0]||(n[0]=[e.createElementVNode("path",{d:"M763.84 896c-47.128 0-85.333-38.205-85.333-85.333s38.205-85.333 85.333-85.333 85.333 38.205 85.333 85.333S810.968 896 763.84 896M329.92 558.848c-14.895 26.231-42.641 43.638-74.453 43.638-47.128 0-85.333-38.205-85.333-85.333 0-16.097 4.457-31.152 12.204-44 14.935-24.769 42.098-41.333 73.13-41.333 47.128 0 85.333 38.205 85.333 85.333 0 15.317-4.035 29.691-11.101 42.117M763.84 128c47.128 0 85.333 38.205 85.333 85.333s-38.205 85.333-85.333 85.333-85.333-38.205-85.333-85.333S716.712 128 763.84 128m0 554.667h-.072c-39.16 0-74.203 17.626-97.628 45.378L376.255 560.982c4.932-13.101 7.787-28.245 7.787-44.055v-.595c0-15.81-2.855-30.953-8.077-44.942l295.544-169.566c23.265 24.363 56.001 39.509 92.275 39.509h.059c70.689 0 127.997-57.308 127.997-128s-57.308-128-128-128-128 57.308-128 128c0 18.965 4.224 36.907 11.627 53.099L355.179 435.179c-23.653-28.833-59.285-47.084-99.18-47.084-70.692 0-128 57.308-128 128l.001.564-.001.484c0 70.692 57.308 128 128 128 39.895 0 75.526-18.251 99.001-46.86l289.373 166.752c-5.397 13.568-8.529 29.29-8.533 45.743 0 70.582 57.308 127.889 128 127.889s128-57.308 128-128-57.308-128-128-128"},null,-1)]))}const D=Object.freeze(Object.defineProperty({__proto__:null,default:{render:S},render:S},Symbol.toStringTag,{value:"Module"})),q={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function x(o,n){return e.openBlock(),e.createElementBlock("svg",q,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const z=Object.freeze(Object.defineProperty({__proto__:null,default:{render:x},render:x},Symbol.toStringTag,{value:"Module"})),F=["tabindex","type","disabled"],g=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(o,{emit:n}){const t=o,i=n,s=f("button"),{sizeToken:a}=B(),d=e.computed(()=>[s.b(),t.color&&s.m(t.color),t.shape&&s.m(t.shape),t.variant&&s.m(t.variant),s.is("disabled",t.disabled),s.is("loading",t.loading)].filter(Boolean)),u=e.computed(()=>{let c=+(t.size||a.value||36);return{"--im-button-size":c+"px","--im-button-padding":(c*.45).toFixed(0)+"px",width:t.width}}),m=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),p=()=>{t.disabled||t.loading||i("click")};return(c,$)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(d.value),onClick:p,style:e.normalizeStyle(u.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(s).e("loading")])},[e.createVNode(e.unref(z))],2)):e.createCommentVNode("",!0),m.value?e.createCommentVNode("",!0):e.renderSlot(c.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)])],14,F))}});g.install=o=>{o.component("ImButton",g)};class X{constructor(){L(this,h);V(this,h,[])}async add(n){w(this,h).push(n)}remove(){try{const n=w(this,h).shift();n&&this.run(n)}catch(n){console.error(n)}}run(n){try{if(n.getAttribute("data-remove")==="on"){const t=n.querySelector(".im-ripple__item");if(!t)return;t.style.opacity="0.1",t.style.transition="all 100ms",t.getBoundingClientRect(),setTimeout(()=>{n.remove()},100)}else setTimeout(()=>{this.run(n)},30)}catch(t){console.log(t)}}}h=new WeakMap;const Y={mounted(o,n){(function(){o.addEventListener("mousedown",s,{passive:!0}),o.addEventListener("mouseup",a,{passive:!0})})();const i=new X;async function s(d){if(console.log("createRipple"),!n.value)return;const u=window.getComputedStyle(o),m=o.getBoundingClientRect(),p=document.createElement("div");p.className="im-ripple",i.add(p);const c=document.createElement("div");c.className="im-ripple__item";const $=d.clientX||d.touches&&d.touches[0].clientX,W=d.clientY||d.touches&&d.touches[0].clientY,I=Math.max(m.width,m.height),G=$-m.left-I/2,H=W-m.top-I/2,J=m.width-m.height<=5;Object.assign(c.style,{"background-color":u.color,width:`${I}px`,height:`${I}px`,left:`${G}px`,top:`${H}px`,opacity:"0.08",transform:J?"scale(0.88)":"scale(0.5)","will-change":"transform,opacity"}),p.appendChild(c),o.appendChild(p);const E=u.position;E==="static"&&(o.style.position="relative",o.dataset.originalPosition=E),c.getBoundingClientRect(),c.style.transform="scale(2)",c.style.opacity="0.2",c.addEventListener("transitionend",()=>{p.setAttribute("data-remove","on")},{once:!0})}function a(){console.log("hideRipple"),i.remove()}}},y=e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(o){const n=o,t=e.useSlots(),i=e.computed(()=>{var a;return((a=t.default)==null?void 0:a.call(t))||[]}),s=f("row");return(a,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(s).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(u,m)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u),{key:m}))),128))],6))}}),_=e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(o){const n=o,t=f("col"),i=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(s,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":i.value,"--im-col-offset":n.offset})},[e.renderSlot(s.$slots,"default")],6))}});y.install=o=>{o.component("ImRow",y)},_.install=o=>{o.component("ImCol",_)};const b=e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=o,{sizeToken:i}=B(),s=n,a=e.ref(t.modelValue),d=f("input"),u=()=>{s("update:modelValue",a.value),s("change",a.value)};return(m,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(d).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(i)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(d).e("input")],"onUpdate:modelValue":p[0]||(p[0]=c=>a.value=c)},t,{onInput:u}),null,16),[[e.vModelDynamic,a.value]])],6))}});b.install=o=>{o.component("ImInput",b)};const A=[g,_,y,b],U={install(o,n){o.provide(r,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),o.directive("ripple",Y),A.forEach(t=>{t.name?o.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};l.ImButton=g,l.ImCol=_,l.ImIconClose=j,l.ImIconLoading=z,l.ImIconSearch=O,l.ImIconShare=D,l.ImInput=b,l.ImRow=y,l.default=U,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
