(function(p,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(p=typeof globalThis<"u"?globalThis:p||self,e(p.ImDesign={},p.Vue))})(this,function(p,e){"use strict";var Ne=Object.defineProperty;var oe=p=>{throw TypeError(p)};var Me=(p,e,_)=>e in p?Ne(p,e,{enumerable:!0,configurable:!0,writable:!0,value:_}):p[e]=_;var F=(p,e,_)=>Me(p,typeof e!="symbol"?e+"":e,_),se=(p,e,_)=>e.has(p)||oe("Cannot "+_);var X=(p,e,_)=>(se(p,e,"read from private field"),_?_.call(p):e.get(p)),ae=(p,e,_)=>e.has(p)?oe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(p):e.set(p,_),re=(p,e,_,D)=>(se(p,e,"write to private field"),D?D.call(p,_):e.set(p,_),_);var L;const _=Symbol("im-design-token");class D{constructor(){ae(this,L);re(this,L,[])}async add(o){X(this,L).push(o)}remove(){try{const o=X(this,L).shift();o&&this.run(o)}catch(o){console.error(o)}}async run(o){try{const t=o.querySelector(".im-ripple__item");if(!t)return;let a=Date.now(),n=t.getAttribute("data-time");const i=a-Number(n)||0;i&&await new Promise(r=>{t.style.opacity="0.1";const f=200-i;setTimeout(()=>{r(null)},f>0?f:0)}),t.style.opacity="0",t.style.transition="all 50ms",setTimeout(()=>{o&&(o==null||o.remove()),X(this,L).length&&this.remove()},50)}catch(t){console.log(t)}}}L=new WeakMap;const le={mounted(s,o){(function(){s.addEventListener("mousedown",n,{passive:!0}),window.addEventListener("mouseup",i,{passive:!0})})();const a=new D;async function n(r){if(!o.value)return;const f=window.getComputedStyle(s),d=s.getBoundingClientRect(),c=document.createElement("div");c.className="im-ripple",a.add(c);const l=document.createElement("div");l.className="im-ripple__item";const m=r.clientX||r.touches&&r.touches[0].clientX,u=r.clientY||r.touches&&r.touches[0].clientY,h=Math.max(d.width,d.height),k=m-d.left-h/2,C=u-d.top-h/2,E=d.width-d.height<=5;Object.assign(l.style,{"background-color":f.color,width:`${h}px`,height:`${h}px`,left:`${k}px`,top:`${C}px`,opacity:"0.15",transform:E?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),l.setAttribute("data-time",Date.now()+""),c.appendChild(l),s.appendChild(c);const I=f.position;I==="static"&&(s.style.position="relative",s.dataset.originalPosition=I),l.getBoundingClientRect(),l.style.transform="scale(2.8)",l.style.opacity="0.33"}s.im_add_ripple_fn__=n,s.im_remove_ripple_fn__=i;function i(){a.remove()}},unmounted(s){s&&(s!=null&&s.im_add_ripple_fn__)&&s.removeEventListener("mousedown",s.im_add_ripple_fn__),s&&s.im_remove_ripple_fn__&&window.removeEventListener("mouseup",s.im_remove_ripple_fn__)}},g=s=>{const o="im-"+s;return{b:()=>o,e:t=>`${o}__${t}`,m:t=>`${o}--${t}`,is:(t,a)=>a?`is-${t}`:""}},S=(s,o)=>{const t=e.inject(_),a=e.ref(Number(t.size||36)),n=e.ref(t.zIndex||1e3);return{sizeToken:a,zIndexToken:n}},ie={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function ce(s,o){return e.openBlock(),e.createElementBlock("svg",ie,o[0]||(o[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const de={render:ce},me=["tabindex","type","disabled"],pe=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(s,{emit:o}){const t=s,a=o,n=g("button"),{sizeToken:i}=S(),r=e.computed(()=>[n.b(),t.color&&n.m(t.color),t.shape&&n.m(t.shape),t.variant&&n.m(t.variant),n.is("disabled",t.disabled),n.is("loading",t.loading)].filter(Boolean)),f=e.computed(()=>{let l=+(t.size||i.value||36);return{"--im-button-size":l+"px","--im-button-padding":(l*.45).toFixed(0)+"px",width:t.width}}),d=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),c=()=>{t.disabled||t.loading||a("click")};return(l,m)=>{const u=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(r.value),onClick:c,style:e.normalizeStyle(f.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("loading")])},[e.createVNode(e.unref(de))],2)):e.createCommentVNode("",!0),d.value?e.createCommentVNode("",!0):e.renderSlot(l.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,me)),[[u,!0]])}}}),y=(s,o)=>{const t=s.__vccOpts||s;for(const[a,n]of o)t[a]=n;return t},N=y(pe,[["__scopeId","data-v-fe80f42d"]]);N.install=s=>{s.component("ImButton",N)};const M=y(e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(s){const o=s,t=e.useSlots(),a=e.computed(()=>{var i;return((i=t.default)==null?void 0:i.call(t))||[]}),n=g("row");return(i,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b()]),style:e.normalizeStyle({"--im-row-gutter":o.gutter+"px","align-items":o.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(f,d)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f),{key:d}))),128))],6))}}),[["__scopeId","data-v-5179967f"]]),A=y(e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(s){const o=s,t=g("col"),a=e.computed(()=>+((Number(o.span)||0)/24).toFixed(2)*100+"%");return(n,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":a.value,"--im-col-offset":o.offset})},[e.renderSlot(n.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-ecf91058"]]);M.install=s=>{s.component("ImRow",M)},A.install=s=>{s.component("ImCol",A)};const P=y(e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(s,{emit:o}){const t=s,{sizeToken:a}=S(),n=o,i=e.ref(t.modelValue),r=g("input"),f=()=>{n("update:modelValue",i.value),n("change",i.value)};return(d,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(a)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(r).e("input")],"onUpdate:modelValue":c[0]||(c[0]=l=>i.value=l)},t,{onInput:f}),null,16),[[e.vModelDynamic,i.value]])],6))}}),[["__scopeId","data-v-6c70856c"]]);P.install=s=>{s.component("ImInput",P)};const x=y(e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(s){const o=s;return(t,a)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${o.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(o.size))||16)+"px","--icon-color":o.color})},null,6))}}),[["__scopeId","data-v-1e711363"]]);x.install=function(s){s.component("ImIcon",x)};const T=y(e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(s){const o=g("divider"),t=s;return(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b(),e.unref(o).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("text")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2))],6))}}),[["__scopeId","data-v-108f9bec"]]);T.name="ImDivider",T.install=function(s){s.component("ImDivider",T)};const B=(s,o)=>(o.install=t=>{t.component(s,o)},o),q=(s,o)=>{let t;return function(...a){t||(t=setTimeout(()=>{s.apply(this,a),t=null},o))}},R=(s,o)=>{let t;return function(...a){t&&clearTimeout(t),t=setTimeout(()=>{s.apply(this,a)},o)}},W=(s,o,t)=>{if(!t)return!1;const a=t.getBoundingClientRect();return s>=a.left&&s<=a.left+a.width&&o>=a.top&&o<=a.top+a.height},fe=["onClick"],j=B("ImAnchor",y(e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(s){const o=g("anchor");let t=null;const a=e.ref(null),n=e.ref(null),i=e.ref(null),r=s;e.watch(()=>r.target,()=>{t&&t(),t=c()}),e.onMounted(()=>{t=c()}),e.onUnmounted(()=>{t&&t()});function f(m){let u=m==null?void 0:m.scrollTop;return a.value===window&&(u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),u}function d(m){var E;if(i.value||!a.value)return;const u=a.value===window?m.target:a.value;let h=f(u);const k=u.offsetTop||0,C=(r.data||[]).map(({id:I})=>{const w=document.getElementById(I);return w?{id:I,offsetTop:w.offsetTop-k,el:w}:null}).filter(Boolean);n.value=null;for(let I=0;I<C.length;I++){const w=C[I];if(h>=w.offsetTop-(r.offset||0)&&h<=w.offsetTop+(((E=w.el)==null?void 0:E.clientHeight)||0)-(r.offset||0)){n.value=w.id;return}}if(!n.value&&h>=(parseInt(String(r.offset))||0)){const I=C.find(w=>h<=w.offsetTop-(r.offset||0)&&h>(r.offset||0)?(n.value=w.id,!0):!1);I&&(n.value=I.id)}}function c(){const m=r.target?typeof r.target=="string"?document.querySelector(r.target):r.target:window;if(!m)return null;a.value=m;const u=q(d,50);return d({target:m}),m.addEventListener("scroll",u,{passive:!0}),()=>{m.removeEventListener("scroll",u)}}async function l(m){var k,C,E;if(n.value===m||!m)return;i.value=m,n.value=m;const u=document.getElementById(m);if(!u)return;(C=a.value)==null||C.scrollTo({top:u.offsetTop-(r.offset||0)-(((k=a.value)==null?void 0:k.offsetTop)||0),behavior:"smooth",left:0});const h=R(()=>{var I;i.value=null,(I=a.value)==null||I.removeEventListener("scroll",h)},300);(E=a.value)==null||E.addEventListener("scroll",h,{passive:!0})}return(m,u)=>{const h=e.resolveDirective("ripple");return r.data&&r.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,k=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(o).e("item"),e.unref(o).is("active",n.value===k.id)]),onClick:()=>l(k.id)},[n.value===k.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(k.text),1)],10,fe)),[[h,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),[["__scopeId","data-v-4840d244"]])),H=B("ImAlert",y(e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:o}){const t=o,a=e.ref(null),n=s,i=g("alert"),r=e.useSlots(),f=e.computed(()=>!!(n.showIcon&&n.title)),d=e.computed(()=>{switch(n.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),c=async()=>{var l,m;t("close"),(l=a.value)==null||l.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(u=>setTimeout(u,300)),(m=a.value)==null||m.remove()};return(l,m)=>{const u=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:a,class:e.normalizeClass([e.unref(i).b(),e.unref(i).m(n.color||"primary"),n.variant&&e.unref(i).m(n.variant||"")])},[n.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("icon")])},[e.renderSlot(l.$slots,"icon",{},()=>[e.createVNode(e.unref(x),{name:d.value,size:f.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("content")])},[n.title||e.unref(r).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(i).e("title")])},[e.renderSlot(l.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(n.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(i).e("message")])},[e.renderSlot(l.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(n.message),1)],!0)],2)],2),n.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(i).e("close")]),onClick:c},[e.renderSlot(l.$slots,"close",{},()=>[e.createVNode(e.unref(x),{name:"close",size:"16"})],!0)],2)),[[u,!0]]):e.createCommentVNode("",!0)],2)}}}),[["__scopeId","data-v-d11fdcb2"]])),ue=y(e.defineComponent({name:"ImBreadcrumb",__name:"ImBreadcrumb",props:{modelValue:{default:""},separator:{default:"/"}},emits:["update:modelValue","change"],setup(s,{emit:o}){const t=e.useSlots(),a=o,n=g("breadcrumb"),i=s,r=e.computed(()=>{var d,c;return(c=(d=t.default)==null?void 0:d.call(t))==null?void 0:c.filter(l=>{var m;return(l==null?void 0:l.type)&&((m=l==null?void 0:l.type)==null?void 0:m.name)==="ImBreadcrumbItem"})}),f=d=>{d&&i.modelValue!==d&&(a("update:modelValue",d),a("change",d))};return(d,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(l,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{active:i.modelValue,onClick:f},null,8,["active"])),r.value&&r.value.length>0&&m<r.value.length-1?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("separator")])},[e.renderSlot(d.$slots,"separator",{},()=>[e.createTextVNode(e.toDisplayString(i.separator),1)],!0)],2)):e.createCommentVNode("",!0)],64))),256))],2))}}),[["__scopeId","data-v-64336468"]]),he=e.defineComponent({name:"ImBreadcrumbItem",__name:"ImBreadcrumbItem",props:{active:{},value:{default:Math.random().toString()}},emits:["click"],setup(s,{emit:o}){const t=g("breadcrumb__item"),a=s,n=o;return(i,r)=>(e.openBlock(),e.createElementBlock("div",{onClick:r[0]||(r[0]=()=>n("click",a.value)),class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",a.active===a.value&&!!a.value)])},[e.renderSlot(i.$slots,"default",{},void 0,!0)],2))}}),ye=y(he,[["__scopeId","data-v-40ed04b1"]]),U=B("ImBreadcrumb",ue),G=B("ImBreadcrumb",ye),_e=(s=50)=>{const o=e.ref(0),t=e.ref(0),a=q(n=>{o.value=n.clientX,t.value=n.clientY},s);return e.onMounted(()=>{window.addEventListener("mousemove",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",a)}),{x:o,y:t}},ge=(s,o,t,a="bottomLeft")=>{e.watch(()=>s.value,()=>{s.value&&n()});async function n(){var u;await new Promise(h=>requestAnimationFrame(h));const i=o==null?void 0:o.value,r=t==null?void 0:t.value;if(!i||!r)return;const d=(((u=i.children)==null?void 0:u.length)!=1?i:i.children[0]).getBoundingClientRect(),c=d.bottom,l=r.getBoundingClientRect(),m=2;switch(a){case"bottom":r.style.setProperty("top",`${c+m}px`),r.style.setProperty("left",`${d.left+d.width/2-l.width/2}px`);break;case"bottomRight":r.style.setProperty("top",`${c+m}px`),r.style.setProperty("left",`${d.left+d.width-l.width}px`);break;case"top":r.style.setProperty("top",`${d.top-l.height-m}px`),r.style.setProperty("left",`${d.left+d.width/2-l.width/2}px`);break;case"topRight":r.style.setProperty("top",`${d.top-l.height-m}px`),r.style.setProperty("left",`${d.right-l.width}px`);break;case"topLeft":r.style.setProperty("top",`${d.top-l.height-m}px`),r.style.setProperty("left",`${d.left}px`);break;default:r.style.setProperty("top",`${c+m}px`),r.style.setProperty("left",`${d.left}px`);break}}},ke=s=>{const o=s.toLowerCase().includes("bottom")?"translateY(-10px)":"translateY(10px)";function t(n,i){n.style.transform=o,n.style.opacity="0",n.style.pointerEvents="none",n.getBoundingClientRect(),n.style.transform="translateY(0px)",n.style.opacity="1",n.style.pointerEvents="auto",i()}async function a(n,i){n.style.transform=o,n.style.opacity="0",n.getBoundingClientRect();const r=()=>{i(),n&&(n.style.transform="translateY(0px)"),n.removeEventListener("transitionend",r)};n.addEventListener("transitionend",r,{passive:!0})}return{onEnter:t,onLeave:a}},J=B("ImDropdown",y(e.defineComponent({name:"ImDropdown",__name:"ImDropdown",props:{modelValue:{type:Boolean,default:!1},trigger:{default:"hover"},placement:{default:"bottomLeft"},zIndex:{default:void 0}},emits:["update:modelValue","change"],setup(s,{emit:o}){var w;const t=o,a=g("dropdown"),n=s,i=e.ref(null),r=e.ref(null),f=e.ref(n.modelValue||!1),d=ke((w=n.placement)!=null&&w.includes("top")?"top":"bottom");let c=null,l=100;const{x:m,y:u}=_e(30),{zIndexToken:h}=S();ge(f,i,r,n.placement),e.onMounted(()=>{c&&c(),c=I()}),e.onUnmounted(()=>{c&&c()}),e.watch(()=>n.trigger,()=>{c&&c(),c=I()});const k=q(()=>{const $=W(m.value,u.value,r.value);W(m.value,u.value,i.value)||$||(f.value=!1)},l);e.watch(()=>[m.value,u.value],()=>{n.trigger!="hover"||!f.value||k()});function C(){f.value=!0,t("update:modelValue",f.value),t("change",f.value),window.addEventListener("scroll",E,{passive:!0,capture:!0})}function E(){f.value=!1,t("update:modelValue",f.value),t("change",f.value),window.removeEventListener("scroll",close)}function I(){var Y,ne;c&&c();const $=R(V=>{var z;(z=i.value)!=null&&z.contains(V.target)||E()},l);if(document.addEventListener("click",$,{passive:!0}),n.trigger==="hover"){const V=R(C,l);return(Y=i.value)==null||Y.addEventListener("mouseenter",V,{passive:!0}),()=>{var z;(z=i.value)==null||z.removeEventListener("mouseenter",V),document.removeEventListener("click",$)}}if(n.trigger==="click"){const V=R(()=>{f.value?E():C()},l);return(ne=i.value)==null||ne.addEventListener("click",V,{passive:!0}),()=>{var z;(z=i.value)==null||z.removeEventListener("click",V),document.removeEventListener("click",$)}}return null}return($,Y)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b()]),ref_key:"dropdownRef",ref:i},[e.renderSlot($.$slots,"default",{},void 0,!0),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{onEnter:e.unref(d).onEnter,onLeave:e.unref(d).onLeave,duration:{enter:300,leave:200}},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(a).e("content")]),ref_key:"contentRef",ref:r,style:e.normalizeStyle({zIndex:n.zIndex||e.unref(h)})},[e.renderSlot($.$slots,"content",{},void 0,!0)],6),[[e.vShow,f.value]])]),_:3},8,["onEnter","onLeave"])]))],2))}}),[["__scopeId","data-v-c394ceaa"]])),Ie=y(e.defineComponent({name:"ImList",__name:"ImList",props:{modelValue:{default:""}},emits:["update:modelValue","change"],setup(s,{emit:o}){const t=s,a=e.useSlots(),n=g("list"),i=e.computed(()=>{var c;const d=((c=a.default)==null?void 0:c.call(a))||[];if(d.length){const l=[];return d.forEach(m=>{var u,h;typeof m.type=="object"?l.push(m):m.children&&((u=m.children)!=null&&u.length)&&((h=m.children)==null||h.forEach(k=>{typeof(k==null?void 0:k.type)=="object"&&l.push(k)}))}),l}}),r=o,f=d=>{r("update:modelValue",d.value),r("change",d.value)};return(d,c)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,l=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{active:t.modelValue,onClick:()=>f(l.props)},null,8,["active","onClick"]))),256))],2))}}),[["__scopeId","data-v-9599f63c"]]),be=y(e.defineComponent({name:"ImListItem",__name:"ImListItem",props:{disabled:{type:Boolean,default:!1},value:{default:""},active:{default:""},ripple:{type:Boolean,default:!0}},emits:["click"],setup(s,{emit:o}){const t=g("list__item"),a=o,n=s;return(i,r)=>{const f=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",!!(n.active&&n.active===n.value))]),onClick:r[0]||(r[0]=d=>a("click",d))},[e.renderSlot(i.$slots,"default",{},void 0,!0)],2)),[[f,n.ripple]])}}}),[["__scopeId","data-v-41ec0ba7"]]),K=B("ImList",Ie),Q=B("ImListItem",be),we=["src","srcset","alt","loading"],Z=B("ImAvatar",y(e.defineComponent({name:"ImAvatar",__name:"ImAvatar",props:{size:{default:36},src:{default:""},alt:{default:""},title:{default:""},crossOrigin:{default:"anonymous"},fit:{default:"cover"},srcset:{default:""},loading:{default:"eager"},shape:{default:"circle"},color:{default:""}},emits:["error"],setup(s,{emit:o}){const t=o,a=g("avatar"),n=s,i=r=>{console.log(r.target),t("error",r)};return(r,f)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b(),n.shape?e.unref(a).m(n.shape):""]),style:e.normalizeStyle({"--im-avatar-size":(Number(n.size)||36)+"px","--im-avatar-color":n.color||"var(--im-rgb-color-2)","--im-avatar-fit":n.fit})},[!n.src&&!n.srcset?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(a).e("icon")])},[e.renderSlot(r.$slots,"default",{},void 0,!0)],2)):(e.openBlock(),e.createElementBlock("img",{key:1,onError:i,src:n.src,srcset:n.srcset,alt:n.alt,loading:n.loading,class:e.normalizeClass([e.unref(a).e("img")])},null,42,we))],6))}}),[["__scopeId","data-v-c4c32038"]])),Be=()=>({onEnter:(s,o)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",s.getBoundingClientRect(),s.style.opacity=1,o()},onLeave:async(s,o)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",await new Promise(a=>requestAnimationFrame(a));const t=()=>{o(),s&&s.removeEventListener("transitionend",t)};s.addEventListener("transitionend",t)}}),Ce=(s="right")=>{let o="",t="";switch(s){case"left":o="translateX(-100%)",t="translateX(-100%)";break;case"right":o="translateX(100%)",t="translateX(100%)";break;case"top":o="translateY(-100%)",t="translateY(-100%)";break;case"bottom":o="translateY(100%)",t="translateY(100%)";break;default:o="translateX(100%)",t="translateX(100%)";break}return{onEnter:(a,n)=>{a.style.transform=o,a.style.transition="transform 200ms ease, opacity 200ms ease",a.style.opacity="0",a.getBoundingClientRect(),a.style.transform="translateX(0)",a.style.opacity="1",n()},onLeave:async(a,n)=>{a.style.transform=t,a.style.opacity="0",a.style.transition="transform 200ms ease, opacity 200ms ease",await new Promise(r=>requestAnimationFrame(r));const i=()=>{n(),a&&a.removeEventListener("transitionend",i)};a.addEventListener("transitionend",i,{passive:!0})}}},O=B("ImMask",y(e.defineComponent({name:"ImMask",__name:"ImMask",props:{visible:{type:Boolean,default:!1},zIndex:{default:0},closeOnClickMask:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:o}){const t=g("mask"),{zIndexToken:a}=S(),n=s,i=Be(),r=o,f=()=>{n.closeOnClickMask&&r("close",!1)};return(d,c)=>(e.openBlock(),e.createBlock(e.Transition,{onEnter:e.unref(i).onEnter,onLeave:e.unref(i).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({zIndex:n.zIndex||e.unref(a)}),onClick:f},[e.renderSlot(d.$slots,"default",{},void 0,!0)],6),[[e.vShow,n.visible]])]),_:3},8,["onEnter","onLeave"]))}}),[["__scopeId","data-v-2ba470f4"]])),Ee=["aria-modal"],v=B("ImDrawer",y(e.defineComponent({name:"ImDrawer",__name:"ImDrawer",props:{modelValue:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},closeOnClickMask:{type:Boolean,default:!0},placement:{default:"right"},size:{default:378},zIndex:{default:""}},emits:["update:modelValue"],setup(s,{emit:o}){const t=g("drawer"),a=o,n=s,i=e.ref(null),r=Ce(n.placement),{zIndexToken:f}=S(),d=()=>{a("update:modelValue",!1)};return(c,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{tabindex:"-1",ref_key:"containerRef",ref:i,class:e.normalizeClass([e.unref(t).b(),n.placement?e.unref(t).m(n.placement):""]),style:e.normalizeStyle({"--im-drawer-size":(parseInt(String(n.size))||378)+"px",zIndex:n.zIndex||e.unref(f)}),"aria-modal":n.modelValue},[n.mask?(e.openBlock(),e.createBlock(e.unref(O),{key:0,visible:n.modelValue,closeOnClickMask:n.closeOnClickMask,onClose:d,zIndex:"1"},null,8,["visible","closeOnClickMask"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{onEnter:e.unref(r).onEnter,onLeave:e.unref(r).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content")])},[e.renderSlot(c.$slots,"default",{},void 0,!0)],2),[[e.vShow,n.modelValue]])]),_:3},8,["onEnter","onLeave"])],14,Ee)]))}}),[["__scopeId","data-v-1b0178a0"]])),ee=B("ImCard",y(e.defineComponent({name:"ImCard",__name:"ImCard",props:{title:{default:""},borderless:{type:Boolean,default:!1},shadow:{default:""}},setup(s){const o=g("card"),t=s;return(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b(),e.unref(o).is("borderless",t.borderless),t.shadow?e.unref(o).m(t.shadow):""])},[e.renderSlot(a.$slots,"header",{},()=>[t.title||a.$slots["header-action"]?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(o).e("header")])},[e.createElementVNode("span",{class:e.normalizeClass([e.unref(o).e("title")])},e.toDisplayString(t.title),3),e.renderSlot(a.$slots,"header-action",{},void 0,!0)],2)):e.createCommentVNode("",!0)],!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(o).e("body")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2)],2))}}),[["__scopeId","data-v-bb9cd52c"]])),ze=["data-index","onMouseenter","onMouseleave"],$e={class:"im-message__text"},xe=y(e.defineComponent({__name:"Message",props:{callback:{type:Function},add:{type:Function}},setup(s,{expose:o}){const t=g("message"),a=s,n=e.ref([]);let i=null;e.watch(()=>n.value,()=>{n.value.length===0?i=setTimeout(()=>{!n.value.length&&a.callback()},500):(i&&clearTimeout(i),i=null)});const r=l=>{switch(l){case"success":return"check-circle-fill";case"warning":return"warning-circle-fill";case"error":return"close-circle-fill";default:return"info-circle-fill"}},f=l=>{l.timer&&(clearTimeout(l.timer),l.timer=null)},d=l=>{l.timer&&clearTimeout(l.timer),l.timer=setTimeout(()=>{n.value=n.value.filter(m=>m.id!==l.id)},l.duration||3e3)},c=l=>{const m=setTimeout(()=>{n.value=n.value.filter(u=>u.id!==l.id)},l.duration||3e3);n.value.push({...l,timer:m})};return a.add&&a.add(c),o({addMsg:c}),(l,m)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{tag:"ul",name:"list",css:!0,class:e.normalizeClass([e.unref(t).b()])},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,u=>(e.openBlock(),e.createElementBlock("li",{key:u.id,"data-index":u.id,onMouseenter:()=>f(u),onMouseleave:()=>d(u),class:e.normalizeClass(["im-message__item",[e.unref(t).e("item"),u.color?e.unref(t).e(u.color):""]])},[e.createVNode(e.unref(x),{name:r(u.color),size:"18px"},null,8,["name"]),e.createElementVNode("span",$e,e.toDisplayString(u.msg),1)],42,ze))),128))]),_:1},8,["class"]))}}),[["__scopeId","data-v-820c83a9"]]);class Le{constructor(){F(this,"app");F(this,"container");F(this,"addMsgToList");this.app=null,this.container=null,this.addMsgToList=null}createApp(){if(typeof window<"u"&&window){this.container=document.createElement("div"),this.container.classList.add("im-message-container"),document.body.appendChild(this.container);const o=this;this.app=e.createApp(xe,{callback:()=>{o.destroy()},add:t=>{o.addMsgToList=t}}),this.app.mount(this.container)}else throw new Error("只能在浏览器环境下使用")}destroy(){var o,t;(o=this.app)==null||o.unmount(),(t=this.container)==null||t.remove(),this.app=null,this.container=null}addMsg(o){if(this.app||this.createApp(),!this.addMsgToList)return console.error("addMsgToList is null");this.addMsgToList({msg:o.msg,id:Math.random().toString().slice(2)+"_"+Date.now(),duration:o.duration||3e3,color:(o==null?void 0:o.color)||"primary"})}info(o,t){this.addMsg({color:"primary",msg:o,duration:t,id:""})}success(o,t){this.addMsg({color:"success",msg:o,duration:t,id:""})}warning(o,t){this.addMsg({color:"warning",msg:o,duration:t,id:""})}error(o,t){this.addMsg({color:"error",msg:o,duration:t,id:""})}}let b=null;const Ve=()=>(b||(b=new Le),{info:(s,o=3e3)=>{b==null||b.info(s,o)},success:(s,o=3e3)=>{b==null||b.success(s,o)},warning:(s,o=3e3)=>{b==null||b.warning(s,o)},error:(s,o=3e3)=>{b==null||b.error(s,o)}}),Se=["data-visible","data-esc"],te=B("ImDialog",y(e.defineComponent({name:"ImDialog",__name:"ImDialog",props:{modelValue:{type:Boolean,default:!1},closeOnClickMask:{type:Boolean,default:!0},width:{default:"420px"},height:{default:"auto"},fullscreen:{type:Boolean,default:!1},closeOnEscape:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(s,{emit:o}){const t=g("dialog"),a=o,n=s,i=e.ref(null);e.watch(()=>n.modelValue,c=>{c?n.closeOnEscape&&window.addEventListener("keydown",r,{passive:!0}):window.removeEventListener("keydown",r)});function r(c){if(c.key==="Escape"||c.code==="Escape"){const l=document.querySelectorAll('.im-dialog[data-visible="true"][data-esc="true"]');l.length&&i.value&&Array.from(l).pop()===i.value&&a("update:modelValue",!1)}}const f=async(c,l)=>{c.style.setProperty("opacity","0"),c.style.setProperty("transition","all 0.2s ease"),n.fullscreen?c.style.setProperty("transform","translateY(100%)"):c.style.setProperty("transform","scale(0.98)"),c.getBoundingClientRect(),c.style.setProperty("opacity","1"),c.style.setProperty("transform","translateY(0) scale(1)"),l(),!document.body.classList.contains("im-overflow-hidden")&&document.body.classList.add("im-overflow-hidden")},d=async(c,l)=>{c.style.setProperty("opacity","0"),n.fullscreen?c.style.setProperty("transform","translateY(100%)"):c.style.setProperty("transform","scale(0.98)"),c.style.setProperty("transition","all 0.2s ease");const m=()=>{l(),Array.from(document.body.querySelectorAll('.im-dialog[data-visible="true"]')).length||document.body.classList.remove("im-overflow-hidden"),c.removeEventListener("transitionend",m)};c.addEventListener("transitionend",m,{passive:!0})};return(c,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{"aria-modal":"true",class:e.normalizeClass([e.unref(t).b()]),tabindex:"-1","data-visible":n.modelValue,"data-esc":n.closeOnEscape,ref_key:"dialogRef",ref:i},[e.createVNode(e.unref(O),{closeOnClickMask:n.closeOnClickMask,visible:n.modelValue,onClose:l[0]||(l[0]=()=>a("update:modelValue",!1))},null,8,["closeOnClickMask","visible"]),e.createVNode(e.Transition,{onEnter:f,duration:{enter:200,leave:200},onLeave:d},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content"),e.unref(t).is("fullscreen",n.fullscreen),"im-shadow"]),style:e.normalizeStyle({maxWidth:n.width,width:n.width,height:n.height})},[e.renderSlot(c.$slots,"default",{},void 0,!0)],6),[[e.vShow,n.modelValue]])]),_:3})],10,Se)]))}}),[["__scopeId","data-v-b6a6ad9a"]])),Te=[N,A,M,P,x,T,j,H,U,G,J,K,Q,Z,O,v,ee,te],De={install:(s,o)=>{s.provide(_,{size:(o==null?void 0:o.size)||36,zIndex:(o==null?void 0:o.zIndex)||1e3}),s.directive("ripple",le),Te.forEach(t=>{t.name?s.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};p.ImAlert=H,p.ImAnchor=j,p.ImAvatar=Z,p.ImBreadcrumb=U,p.ImBreadcrumbItem=G,p.ImButton=N,p.ImCard=ee,p.ImCol=A,p.ImDialog=te,p.ImDivider=T,p.ImDrawer=v,p.ImDropdown=J,p.ImIcon=x,p.ImInput=P,p.ImList=K,p.ImListItem=Q,p.ImMask=O,p.ImRow=M,p.default=De,p.useImMessage=Ve,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
