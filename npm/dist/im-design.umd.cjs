(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.ImDesign={},i.Vue))})(this,function(i,e){"use strict";var W=i=>{throw TypeError(i)};var Y=(i,e,g)=>e.has(i)||W("Cannot "+g);var V=(i,e,g)=>(Y(i,e,"read from private field"),g?g.call(i):e.get(i)),M=(i,e,g)=>e.has(i)?W("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,g),P=(i,e,g,E)=>(Y(i,e,"write to private field"),E?E.call(i,g):e.set(i,g),g);var b;const g=Symbol("im-design-token");class E{constructor(){M(this,b);P(this,b,[])}async add(o){V(this,b).push(o)}remove(){try{const o=V(this,b).shift();o&&this.run(o)}catch(o){console.error(o)}}async run(o){try{const t=o.querySelector(".im-ripple__item");if(!t)return;let l=Date.now(),r=t.getAttribute("data-time");const a=l-Number(r)||0;a&&await new Promise(s=>{t.style.opacity="0.1";const f=200-a;setTimeout(()=>{s(null)},f>0?f:0)}),t.style.opacity="0",t.style.transition="all 50ms ",setTimeout(()=>{o&&(o==null||o.remove()),V(this,b).length&&this.remove()},50)}catch(t){console.log(t)}}}b=new WeakMap;const j={mounted(n,o){(function(){n.addEventListener("mousedown",r,{passive:!0}),window.addEventListener("mouseup",a,{passive:!0}),window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchend",a,{passive:!0})})();const l=new E;async function r(s){if(!o.value)return;const f=window.getComputedStyle(n),p=n.getBoundingClientRect(),h=document.createElement("div");h.className="im-ripple",l.add(h);const m=document.createElement("div");m.className="im-ripple__item";const c=s.clientX||s.touches&&s.touches[0].clientX,d=s.clientY||s.touches&&s.touches[0].clientY,u=Math.max(p.width,p.height),y=c-p.left-u/2,k=d-p.top-u/2,C=p.width-p.height<=5;Object.assign(m.style,{"background-color":f.color,width:`${u}px`,height:`${u}px`,left:`${y}px`,top:`${k}px`,opacity:"0.33",transform:C?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),m.setAttribute("data-time",Date.now()+""),h.appendChild(m),n.appendChild(h);const _=f.position;_==="static"&&(n.style.position="relative",n.dataset.originalPosition=_),m.getBoundingClientRect(),m.style.transform="scale(2.8)",m.style.opacity="0.33"}n.im_add_ripple_fn__=r,n.im_remove_ripple_fn__=a;function a(){l.remove()}},unmounted(n){n&&(n!=null&&n.im_add_ripple_fn__)&&(n.removeEventListener("mousedown",n.im_add_ripple_fn__),window.removeEventListener("touchstart",n.im_add_ripple_fn__)),n&&n.im_remove_ripple_fn__&&(window.removeEventListener("mouseup",n.im_remove_ripple_fn__),window.removeEventListener("touchend",n.im_remove_ripple_fn__))}},B=n=>{const o="im-"+n;return{b:()=>o,e:t=>`${o}__${t}`,m:t=>`${o}--${t}`,is:(t,l)=>l?`is-${t}`:""}},D=(n,o)=>{const t=e.inject(g),l=e.ref(Number(t.size||36)),r=e.ref(t.zIndex||1e3);return{sizeToken:l,zIndexToken:r}},q={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function F(n,o){return e.openBlock(),e.createElementBlock("svg",q,o[0]||(o[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const O={render:F},X=["tabindex","type","disabled"],U=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(n,{emit:o}){const t=n,l=o,r=B("button"),{sizeToken:a}=D(),s=e.computed(()=>[r.b(),t.color&&r.m(t.color),t.shape&&r.m(t.shape),t.variant&&r.m(t.variant),r.is("disabled",t.disabled),r.is("loading",t.loading)].filter(Boolean)),f=e.computed(()=>{let m=+(t.size||a.value||36);return{"--im-button-size":m+"px","--im-button-padding":(m*.45).toFixed(0)+"px",width:t.width}}),p=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),h=()=>{t.disabled||t.loading||l("click")};return(m,c)=>{const d=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(s.value),onClick:h,style:e.normalizeStyle(f.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(r).e("loading")])},[e.createVNode(e.unref(O))],2)):e.createCommentVNode("",!0),p.value?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,X)),[[d,!0]])}}}),w=(n,o)=>{const t=n.__vccOpts||n;for(const[l,r]of o)t[l]=r;return t},T=w(U,[["__scopeId","data-v-706dad03"]]);T.install=n=>{n.component("ImButton",T)};const $=w(e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(n){const o=n,t=e.useSlots(),l=e.computed(()=>{var a;return((a=t.default)==null?void 0:a.call(t))||[]}),r=B("row");return(a,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--im-row-gutter":o.gutter+"px","align-items":o.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(f,p)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f),{key:p}))),128))],6))}}),[["__scopeId","data-v-5179967f"]]),S=w(e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(n){const o=n,t=B("col"),l=e.computed(()=>+((Number(o.span)||0)/24).toFixed(2)*100+"%");return(r,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":l.value,"--im-col-offset":o.offset})},[e.renderSlot(r.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-ecf91058"]]);$.install=n=>{n.component("ImRow",$)},S.install=n=>{n.component("ImCol",S)};const N=w(e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(n,{emit:o}){const t=n,{sizeToken:l}=D(),r=o,a=e.ref(t.modelValue),s=B("input"),f=()=>{r("update:modelValue",a.value),r("change",a.value)};return(p,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(s).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(l)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(s).e("input")],"onUpdate:modelValue":h[0]||(h[0]=m=>a.value=m)},t,{onInput:f}),null,16),[[e.vModelDynamic,a.value]])],6))}}),[["__scopeId","data-v-6c70856c"]]);N.install=n=>{n.component("ImInput",N)};const z=w(e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(n){const o=n;return(t,l)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${o.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(o.size))||16)+"px","--icon-color":o.color})},null,6))}}),[["__scopeId","data-v-1e711363"]]);z.install=function(n){n.component("ImIcon",z)};const x=w(e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(n){const o=B("divider"),t=n;return(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b(),e.unref(o).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("text")])},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2))],6))}}),[["__scopeId","data-v-108f9bec"]]);x.name="ImDivider",x.install=function(n){n.component("ImDivider",x)};const L=(n,o)=>(o.install=t=>{t.component(n,o)},o),H=(n,o)=>{let t=null;return function(...l){t||(t=setTimeout(()=>{n.apply(this,l),t=null},o))}},G=(n,o)=>{let t=null;return function(...l){t&&clearTimeout(t),t=setTimeout(()=>{n.apply(this,l)},o)}},J=["onClick"],A=L("ImAnchor",w(e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(n){const o=B("anchor");let t=null;const l=e.ref(null),r=e.ref(null),a=e.ref(null),s=n;e.watch(()=>s.target,()=>{t&&t(),t=h()}),e.onMounted(()=>{t=h()}),e.onUnmounted(()=>{t&&t()});function f(c){let d=c==null?void 0:c.scrollTop;return l.value===window&&(d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),d}function p(c){var C;if(a.value||!l.value)return;const d=l.value===window?c.target:l.value;let u=f(d);const y=d.offsetTop||0,k=(s.data||[]).map(({id:_})=>{const I=document.getElementById(_);return I?{id:_,offsetTop:I.offsetTop-y,el:I}:null}).filter(Boolean);r.value=null;for(let _=0;_<k.length;_++){const I=k[_];if(u>=I.offsetTop-(s.offset||0)&&u<=I.offsetTop+(((C=I.el)==null?void 0:C.clientHeight)||0)-(s.offset||0)){r.value=I.id;return}}if(!r.value&&u>=(parseInt(String(s.offset))||0)){const _=k.find(I=>u<=I.offsetTop-(s.offset||0)&&u>(s.offset||0)?(r.value=I.id,!0):!1);_&&(r.value=_.id)}}function h(){const c=s.target?typeof s.target=="string"?document.querySelector(s.target):s.target:window;if(!c)return null;l.value=c;const d=H(p,50);return p({target:c}),c.addEventListener("scroll",d,{passive:!0}),()=>{c.removeEventListener("scroll",d)}}async function m(c){var y,k,C;if(r.value===c||!c)return;a.value=c,r.value=c;const d=document.getElementById(c);if(!d)return;(k=l.value)==null||k.scrollTo({top:d.offsetTop-(s.offset||0)-(((y=l.value)==null?void 0:y.offsetTop)||0),behavior:"smooth",left:0});const u=G(()=>{var _;a.value=null,(_=l.value)==null||_.removeEventListener("scroll",u)},300);(C=l.value)==null||C.addEventListener("scroll",u,{passive:!0})}return(c,d)=>{const u=e.resolveDirective("ripple");return s.data&&s.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.data,y=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(o).e("item"),e.unref(o).is("active",r.value===y.id)]),onClick:()=>m(y.id)},[r.value===y.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(y.text),1)],10,J)),[[u,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),[["__scopeId","data-v-4840d244"]])),R=L("ImAlert",w(e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:o}){const t=o,l=e.ref(null),r=n,a=B("alert"),s=e.useSlots(),f=e.computed(()=>!!(r.showIcon&&r.title)),p=e.computed(()=>{switch(r.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),h=async()=>{var m,c;t("close"),(m=l.value)==null||m.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(d=>setTimeout(d,300)),(c=l.value)==null||c.remove()};return(m,c)=>{const d=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:l,class:e.normalizeClass([e.unref(a).b(),e.unref(a).m(r.color||"primary"),r.variant&&e.unref(a).m(r.variant||"")])},[r.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(a).e("icon")])},[e.renderSlot(m.$slots,"icon",{},()=>[e.createVNode(e.unref(z),{name:p.value,size:f.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(a).e("content")])},[r.title||e.unref(s).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(a).e("title")])},[e.renderSlot(m.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(r.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(a).e("message")])},[e.renderSlot(m.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(r.message),1)],!0)],2)],2),r.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(a).e("close")]),onClick:h},[e.renderSlot(m.$slots,"close",{},()=>[e.createVNode(e.unref(z),{name:"close",size:"16"})],!0)],2)),[[d,!0]]):e.createCommentVNode("",!0)],2)}}}),[["__scopeId","data-v-d11fdcb2"]])),K=[T,S,$,N,z,x,A,R],Q={install:(n,o)=>{n.provide(g,{size:(o==null?void 0:o.size)||36,zIndex:(o==null?void 0:o.zIndex)||1e3}),n.directive("ripple",j),K.forEach(t=>{t.name?n.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};i.ImAlert=R,i.ImAnchor=A,i.ImButton=T,i.ImCol=S,i.ImDivider=x,i.ImIcon=z,i.ImInput=N,i.ImRow=$,i.default=Q,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
