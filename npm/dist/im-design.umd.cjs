(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.ImDesign={},s.Vue))})(this,function(s,e){"use strict";var R=s=>{throw TypeError(s)};var A=(s,e,u)=>e.has(s)||R("Cannot "+u);var D=(s,e,u)=>(A(s,e,"read from private field"),u?u.call(s):e.get(s)),W=(s,e,u)=>e.has(s)?R("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,u),M=(s,e,u,C)=>(A(s,e,"write to private field"),C?C.call(s,u):e.set(s,u),u);var w;const u=Symbol("im-design-token");class C{constructor(){W(this,w);M(this,w,[])}async add(n){D(this,w).push(n)}remove(){try{const n=D(this,w).shift();n&&this.run(n)}catch(n){console.error(n)}}async run(n){try{const t=n.querySelector(".im-ripple__item");if(!t)return;let i=Date.now(),l=t.getAttribute("data-time");const a=i-Number(l)||0;a&&await new Promise(r=>{t.style.opacity="0.1";const h=200-a;setTimeout(()=>{r(null)},h>0?h:0)}),t.style.opacity="0",t.style.transition="all 50ms ",setTimeout(()=>{n&&(n==null||n.remove())},50)}catch(t){console.log(t)}}}w=new WeakMap;const j={mounted(o,n){(function(){o.addEventListener("mousedown",l,{passive:!0}),o.addEventListener("mouseup",a,{passive:!0})})();const i=new C;async function l(r){if(!n.value)return;const h=window.getComputedStyle(o),f=o.getBoundingClientRect(),_=document.createElement("div");_.className="im-ripple",i.add(_);const m=document.createElement("div");m.className="im-ripple__item";const c=r.clientX||r.touches&&r.touches[0].clientX,d=r.clientY||r.touches&&r.touches[0].clientY,p=Math.max(f.width,f.height),y=c-f.left-p/2,k=d-f.top-p/2,N=f.width-f.height<=5;Object.assign(m.style,{"background-color":h.color,width:`${p}px`,height:`${p}px`,left:`${y}px`,top:`${k}px`,opacity:"0.33",transform:N?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),m.setAttribute("data-time",Date.now()+""),_.appendChild(m),o.appendChild(_);const g=h.position;g==="static"&&(o.style.position="relative",o.dataset.originalPosition=g),m.getBoundingClientRect(),m.style.transform="scale(2.8)",m.style.opacity="0.33"}function a(){i.remove()}}},B=o=>{const n="im-"+o;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,i)=>i?`is-${t}`:""}},V=(o,n)=>{const t=e.inject(u),i=e.ref(Number(t.size||36)),l=e.ref(t.zIndex||1e3);return{sizeToken:i,zIndexToken:l}},q={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function F(o,n){return e.openBlock(),e.createElementBlock("svg",q,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const O={render:F},P=["tabindex","type","disabled"],Y=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(o,{emit:n}){const t=o,i=n,l=B("button"),{sizeToken:a}=V(),r=e.computed(()=>[l.b(),t.color&&l.m(t.color),t.shape&&l.m(t.shape),t.variant&&l.m(t.variant),l.is("disabled",t.disabled),l.is("loading",t.loading)].filter(Boolean)),h=e.computed(()=>{let m=+(t.size||a.value||36);return{"--im-button-size":m+"px","--im-button-padding":(m*.45).toFixed(0)+"px",width:t.width}}),f=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),_=()=>{t.disabled||t.loading||i("click")};return(m,c)=>{const d=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(r.value),onClick:_,style:e.normalizeStyle(h.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(l).e("loading")])},[e.createVNode(e.unref(O))],2)):e.createCommentVNode("",!0),f.value?e.createCommentVNode("",!0):e.renderSlot(m.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,P)),[[d,!0]])}}}),b=(o,n)=>{const t=o.__vccOpts||o;for(const[i,l]of n)t[i]=l;return t},z=b(Y,[["__scopeId","data-v-706dad03"]]);z.install=o=>{o.component("ImButton",z)};const T=b(e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(o){const n=o,t=e.useSlots(),i=e.computed(()=>{var a;return((a=t.default)==null?void 0:a.call(t))||[]}),l=B("row");return(a,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(l).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(h,f)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h),{key:f}))),128))],6))}}),[["__scopeId","data-v-5179967f"]]),$=b(e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(o){const n=o,t=B("col"),i=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(l,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":i.value,"--im-col-offset":n.offset})},[e.renderSlot(l.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-ecf91058"]]);T.install=o=>{o.component("ImRow",T)},$.install=o=>{o.component("ImCol",$)};const E=b(e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(o,{emit:n}){const t=o,{sizeToken:i}=V(),l=n,a=e.ref(t.modelValue),r=B("input"),h=()=>{l("update:modelValue",a.value),l("change",a.value)};return(f,_)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(i)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(r).e("input")],"onUpdate:modelValue":_[0]||(_[0]=m=>a.value=m)},t,{onInput:h}),null,16),[[e.vModelDynamic,a.value]])],6))}}),[["__scopeId","data-v-6c70856c"]]);E.install=o=>{o.component("ImInput",E)};const S=b(e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:Number,color:String},setup(o){const n=o;return(t,i)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${n.name}`]]),style:e.normalizeStyle({"--icon-size":n.size||"16px","--icon-color":n.color})},null,6))}}),[["__scopeId","data-v-458c0f87"]]);S.install=function(o){o.component("ImIcon",S)};const x=b(e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(o){const n=B("divider"),t=o;return(i,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("text")])},[e.renderSlot(i.$slots,"default",{},void 0,!0)],2))],6))}}),[["__scopeId","data-v-108f9bec"]]);x.name="ImDivider",x.install=function(o){o.component("ImDivider",x)};const X=(o,n)=>(n.install=t=>{t.component(o,n)},n),U=(o,n)=>{let t=null;return function(...i){t||(t=setTimeout(()=>{o.apply(this,i),t=null},n))}},H=(o,n)=>{let t=null;return function(...i){t&&clearTimeout(t),t=setTimeout(()=>{o.apply(this,i)},n)}},G=["onClick"],L=X("ImAnchor",b(e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(o){const n=B("anchor");let t=null;const i=e.ref(null),l=e.ref(null),a=e.ref(null),r=o;e.watch(()=>r.target,()=>{t&&t(),t=_()}),e.onMounted(()=>{t=_()}),e.onUnmounted(()=>{t&&t()});function h(c){console.log(c,c==null?void 0:c.scrollTop,"el");let d=c==null?void 0:c.scrollTop;return i.value===window&&(d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),d}function f(c){var N;if(a.value||!i.value)return;const d=i.value===window?c.target:i.value;let p=h(d);const y=d.offsetTop||0,k=(r.data||[]).map(({id:g})=>{const I=document.getElementById(g);return I?{id:g,offsetTop:I.offsetTop-y,el:I}:null}).filter(Boolean);l.value=null;for(let g=0;g<k.length;g++){const I=k[g];if(p>=I.offsetTop-(r.offset||0)&&p<=I.offsetTop+(((N=I.el)==null?void 0:N.clientHeight)||0)-(r.offset||0)){l.value=I.id;return}}if(!l.value&&p>=(parseInt(String(r.offset))||0)){const g=k.find(I=>p<=I.offsetTop-(r.offset||0)&&p>(r.offset||0)?(l.value=I.id,!0):!1);g&&(l.value=g.id)}}function _(){const c=r.target?typeof r.target=="string"?document.querySelector(r.target):r.target:window;if(!c)return null;i.value=c;const d=U(f,50);return f({target:c}),c.addEventListener("scroll",d,{passive:!0}),()=>{c.removeEventListener("scroll",d)}}async function m(c){var d;if(c){a.value=c,l.value=c;const p=document.getElementById(c);if(!p)return;p.scrollIntoView({behavior:"smooth",block:"start",inline:"start"});const y=H(()=>{var k;a.value=null,(k=i.value)==null||k.removeEventListener("scroll",y)},300);(d=i.value)==null||d.addEventListener("scroll",y,{passive:!0})}}return(c,d)=>{const p=e.resolveDirective("ripple");return r.data&&r.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,y=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(n).e("item"),e.unref(n).is("active",l.value===y.id)]),onClick:()=>m(y.id)},[l.value===y.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(y.text),1)],10,G)),[[p,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),[["__scopeId","data-v-8b9791ff"]])),J=[z,$,T,E,S,x,L],K={install:(o,n)=>{o.provide(u,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),o.directive("ripple",j),J.forEach(t=>{t.name?o.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};s.ImAnchor=L,s.ImButton=z,s.ImCol=$,s.ImDivider=x,s.ImIcon=S,s.ImInput=E,s.ImRow=T,s.default=K,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
