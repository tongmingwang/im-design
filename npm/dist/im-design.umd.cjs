(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d.ImDesign={},d.Vue))})(this,function(d,e){"use strict";var Ve=Object.defineProperty;var ne=d=>{throw TypeError(d)};var De=(d,e,h)=>e in d?Ve(d,e,{enumerable:!0,configurable:!0,writable:!0,value:h}):d[e]=h;var F=(d,e,h)=>De(d,typeof e!="symbol"?e+"":e,h),oe=(d,e,h)=>e.has(d)||ne("Cannot "+h);var O=(d,e,h)=>(oe(d,e,"read from private field"),h?h.call(d):e.get(d)),se=(d,e,h)=>e.has(d)?ne("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(d):e.set(d,h),ae=(d,e,h,D)=>(oe(d,e,"write to private field"),D?D.call(d,h):e.set(d,h),h);var L;const h=Symbol("im-design-token");class D{constructor(){se(this,L);ae(this,L,[])}async add(n){O(this,L).push(n)}remove(){try{const n=O(this,L).shift();n&&this.run(n)}catch(n){console.error(n)}}async run(n){try{const t=n.querySelector(".im-ripple__item");if(!t)return;let a=Date.now(),o=t.getAttribute("data-time");const l=a-Number(o)||0;l&&await new Promise(r=>{t.style.opacity="0.1";const f=200-l;setTimeout(()=>{r(null)},f>0?f:0)}),t.style.opacity="0",t.style.transition="all 50ms",setTimeout(()=>{n&&(n==null||n.remove()),O(this,L).length&&this.remove()},50)}catch(t){console.log(t)}}}L=new WeakMap;const re={mounted(s,n){(function(){s.addEventListener("mousedown",o,{passive:!0}),window.addEventListener("mouseup",l,{passive:!0})})();const a=new D;async function o(r){if(!n.value)return;const f=window.getComputedStyle(s),c=s.getBoundingClientRect(),p=document.createElement("div");p.className="im-ripple",a.add(p);const i=document.createElement("div");i.className="im-ripple__item";const m=r.clientX||r.touches&&r.touches[0].clientX,u=r.clientY||r.touches&&r.touches[0].clientY,_=Math.max(c.width,c.height),g=m-c.left-_/2,C=u-c.top-_/2,E=c.width-c.height<=5;Object.assign(i.style,{"background-color":f.color,width:`${_}px`,height:`${_}px`,left:`${g}px`,top:`${C}px`,opacity:"0.15",transform:E?"scale(1)":"scale(0.25)","will-change":"transform,opacity"}),i.setAttribute("data-time",Date.now()+""),p.appendChild(i),s.appendChild(p);const k=f.position;k==="static"&&(s.style.position="relative",s.dataset.originalPosition=k),i.getBoundingClientRect(),i.style.transform="scale(2.8)",i.style.opacity="0.33"}s.im_add_ripple_fn__=o,s.im_remove_ripple_fn__=l;function l(){a.remove()}},unmounted(s){s&&(s!=null&&s.im_add_ripple_fn__)&&s.removeEventListener("mousedown",s.im_add_ripple_fn__),s&&s.im_remove_ripple_fn__&&window.removeEventListener("mouseup",s.im_remove_ripple_fn__)}},I=s=>{const n="im-"+s;return{b:()=>n,e:t=>`${n}__${t}`,m:t=>`${n}--${t}`,is:(t,a)=>a?`is-${t}`:""}},T=(s,n)=>{const t=e.inject(h),a=e.ref(Number(t.size||36)),o=e.ref(t.zIndex||1e3);return{sizeToken:a,zIndexToken:o}},le={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"im-icon",viewBox:"0 0 1024 1024"};function ie(s,n){return e.openBlock(),e.createElementBlock("svg",le,n[0]||(n[0]=[e.createElementVNode("path",{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.5 440.5 0 0 0-94.3-139.9 437.7 437.7 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150s83.9 101.8 109.7 162.7c26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36"},null,-1)]))}const ce={render:ie},me=["tabindex","type","disabled"],de=e.defineComponent({name:"ImButton",__name:"ImButton",props:{type:{},disabled:{type:Boolean},color:{},size:{},shape:{},loading:{type:Boolean},text:{},variant:{},tabindex:{},width:{}},emits:["click"],setup(s,{emit:n}){const t=s,a=n,o=I("button"),{sizeToken:l}=T(),r=e.computed(()=>[o.b(),t.color&&o.m(t.color),t.shape&&o.m(t.shape),t.variant&&o.m(t.variant),o.is("disabled",t.disabled),o.is("loading",t.loading)].filter(Boolean)),f=e.computed(()=>{let i=+(t.size||l.value||36);return{"--im-button-size":i+"px","--im-button-padding":(i*.45).toFixed(0)+"px",width:t.width}}),c=e.computed(()=>t.loading&&["square","circle"].includes(t.shape)),p=()=>{t.disabled||t.loading||a("click")};return(i,m)=>{const u=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(r.value),onClick:p,style:e.normalizeStyle(f.value),tabindex:t.tabindex||0,type:t.type||"button",disabled:t.disabled||t.loading},[t.loading?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("loading")])},[e.createVNode(e.unref(ce))],2)):e.createCommentVNode("",!0),c.value?e.createCommentVNode("",!0):e.renderSlot(i.$slots,"default",{key:1},()=>[e.createTextVNode(e.toDisplayString(t.text),1)],!0)],14,me)),[[u,!0]])}}}),y=(s,n)=>{const t=s.__vccOpts||s;for(const[a,o]of n)t[a]=o;return t},N=y(de,[["__scopeId","data-v-fe80f42d"]]);N.install=s=>{s.component("ImButton",N)};const M=y(e.defineComponent({name:"ImRow",__name:"ImRow",props:{gutter:{type:Number,default:0},align:{type:String,default:"top"}},setup(s){const n=s,t=e.useSlots(),a=e.computed(()=>{var l;return((l=t.default)==null?void 0:l.call(t))||[]}),o=I("row");return(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b()]),style:e.normalizeStyle({"--im-row-gutter":n.gutter+"px","align-items":n.align})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(f,c)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f),{key:c}))),128))],6))}}),[["__scopeId","data-v-5179967f"]]),A=y(e.defineComponent({name:"ImCol",__name:"ImCol",props:{span:{type:[Number,String],default:4},offset:{type:Number,default:0}},setup(s){const n=s,t=I("col"),a=e.computed(()=>+((Number(n.span)||0)/24).toFixed(2)*100+"%");return(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({"--im-col-w":a.value,"--im-col-offset":n.offset})},[e.renderSlot(o.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-ecf91058"]]);M.install=s=>{s.component("ImRow",M)},A.install=s=>{s.component("ImCol",A)};const R=y(e.defineComponent({name:"ImInput",__name:"ImInput",props:{modelValue:{},size:{},disabled:{type:Boolean},readonly:{type:Boolean},placeholder:{},type:{},name:{},id:{},class:{},maxlength:{},minlength:{},max:{},min:{},step:{},pattern:{},required:{type:Boolean},autocomplete:{},autofocus:{type:Boolean},tabindex:{}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=s,{sizeToken:a}=T(),o=n,l=e.ref(t.modelValue),r=I("input"),f=()=>{o("update:modelValue",l.value),o("change",l.value)};return(c,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(r).b()]),style:e.normalizeStyle({"--in-input-size":(t.size||e.unref(a)||36)+"px"})},[e.withDirectives(e.createElementVNode("input",e.mergeProps({class:[e.unref(r).e("input")],"onUpdate:modelValue":p[0]||(p[0]=i=>l.value=i)},t,{onInput:f}),null,16),[[e.vModelDynamic,l.value]])],6))}}),[["__scopeId","data-v-6c70856c"]]);R.install=s=>{s.component("ImInput",R)};const x=y(e.defineComponent({name:"ImIcon",__name:"ImIcon",props:{name:String,size:[Number,String],color:String},setup(s){const n=s;return(t,a)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["im-icon",[`im-icon-${n.name}`]]),style:e.normalizeStyle({"--icon-size":(parseInt(String(n.size))||16)+"px","--icon-color":n.color})},null,6))}}),[["__scopeId","data-v-1e711363"]]);x.install=function(s){s.component("ImIcon",x)};const V=y(e.defineComponent({__name:"ImDivider",props:{vertical:{type:Boolean},color:{},size:{},margin:{},className:{},textLeftWidth:{},textRightWidth:{}},setup(s){const n=I("divider"),t=s;return(a,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("vertical",t.vertical)]),style:e.normalizeStyle({"--im-divider-color":t.color||"var(--im-gray-color-4)","--im-divider-margin-size":`${t.margin||8}px`,"--im-divider-size":`${t.size||1}px`,"--im-divider-text-left-width":t.textLeftWidth?t.textLeftWidth:"100%","--im-divider-text-right-width":t.textRightWidth?t.textRightWidth:"100%"})},[t.vertical?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("text")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2))],6))}}),[["__scopeId","data-v-108f9bec"]]);V.name="ImDivider",V.install=function(s){s.component("ImDivider",V)};const B=(s,n)=>(n.install=t=>{t.component(s,n)},n),X=(s,n)=>{let t;return function(...a){t||(t=setTimeout(()=>{s.apply(this,a),t=null},n))}},P=(s,n)=>{let t;return function(...a){t&&clearTimeout(t),t=setTimeout(()=>{s.apply(this,a)},n)}},j=(s,n,t)=>{if(!t)return!1;const a=t.getBoundingClientRect();return s>=a.left&&s<=a.left+a.width&&n>=a.top&&n<=a.top+a.height},pe=["onClick"],W=B("ImAnchor",y(e.defineComponent({name:"ImAnchor",__name:"ImAnchor",props:{data:{},offset:{default:0},target:{default:null}},setup(s){const n=I("anchor");let t=null;const a=e.ref(null),o=e.ref(null),l=e.ref(null),r=s;e.watch(()=>r.target,()=>{t&&t(),t=p()}),e.onMounted(()=>{t=p()}),e.onUnmounted(()=>{t&&t()});function f(m){let u=m==null?void 0:m.scrollTop;return a.value===window&&(u=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),u}function c(m){var E;if(l.value||!a.value)return;const u=a.value===window?m.target:a.value;let _=f(u);const g=u.offsetTop||0,C=(r.data||[]).map(({id:k})=>{const w=document.getElementById(k);return w?{id:k,offsetTop:w.offsetTop-g,el:w}:null}).filter(Boolean);o.value=null;for(let k=0;k<C.length;k++){const w=C[k];if(_>=w.offsetTop-(r.offset||0)&&_<=w.offsetTop+(((E=w.el)==null?void 0:E.clientHeight)||0)-(r.offset||0)){o.value=w.id;return}}if(!o.value&&_>=(parseInt(String(r.offset))||0)){const k=C.find(w=>_<=w.offsetTop-(r.offset||0)&&_>(r.offset||0)?(o.value=w.id,!0):!1);k&&(o.value=k.id)}}function p(){const m=r.target?typeof r.target=="string"?document.querySelector(r.target):r.target:window;if(!m)return null;a.value=m;const u=X(c,50);return c({target:m}),m.addEventListener("scroll",u,{passive:!0}),()=>{m.removeEventListener("scroll",u)}}async function i(m){var g,C,E;if(o.value===m||!m)return;l.value=m,o.value=m;const u=document.getElementById(m);if(!u)return;(C=a.value)==null||C.scrollTo({top:u.offsetTop-(r.offset||0)-(((g=a.value)==null?void 0:g.offsetTop)||0),behavior:"smooth",left:0});const _=P(()=>{var k;l.value=null,(k=a.value)==null||k.removeEventListener("scroll",_)},300);(E=a.value)==null||E.addEventListener("scroll",_,{passive:!0})}return(m,u)=>{const _=e.resolveDirective("ripple");return r.data&&r.data.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass([e.unref(n).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.data,g=>e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(n).e("item"),e.unref(n).is("active",o.value===g.id)]),onClick:()=>i(g.id)},[o.value===g.id?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("bar")])},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(g.text),1)],10,pe)),[[_,!0]])),256))],2)):e.createCommentVNode("",!0)}}}),[["__scopeId","data-v-4840d244"]])),U=B("ImAlert",y(e.defineComponent({name:"ImAlert",__name:"ImAlert",props:{message:{default:""},color:{default:"primary"},variant:{},title:{default:""},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:n}){const t=n,a=e.ref(null),o=s,l=I("alert"),r=e.useSlots(),f=e.computed(()=>!!(o.showIcon&&o.title)),c=e.computed(()=>{switch(o.color){case"error":return"close-circle-fill";case"warning":return"warning-circle-fill";case"success":return"check-circle-fill";default:return"info-circle-fill"}}),p=async()=>{var i,m;t("close"),(i=a.value)==null||i.animate([{offset:0,opacity:1,transform:"scaleY(1)"},{transform:"scaleY(0.9)",offset:.33,opacity:.25},{transform:"scaleY(0)",offset:1,opacity:0}],{duration:300,easing:"linear",fill:"forwards"}),await new Promise(u=>setTimeout(u,300)),(m=a.value)==null||m.remove()};return(i,m)=>{const u=e.resolveDirective("ripple");return e.openBlock(),e.createElementBlock("div",{ref_key:"alertRef",ref:a,class:e.normalizeClass([e.unref(l).b(),e.unref(l).m(o.color||"primary"),o.variant&&e.unref(l).m(o.variant||"")])},[o.showIcon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(l).e("icon")])},[e.renderSlot(i.$slots,"icon",{},()=>[e.createVNode(e.unref(x),{name:c.value,size:f.value?24:16},null,8,["name","size"])],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(l).e("content")])},[o.title||e.unref(r).title?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(l).e("title")])},[e.renderSlot(i.$slots,"title",{},()=>[e.createTextVNode(e.toDisplayString(o.title),1)],!0)],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(l).e("message")])},[e.renderSlot(i.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(o.message),1)],!0)],2)],2),o.closable?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass([e.unref(l).e("close")]),onClick:p},[e.renderSlot(i.$slots,"close",{},()=>[e.createVNode(e.unref(x),{name:"close",size:"16"})],!0)],2)),[[u,!0]]):e.createCommentVNode("",!0)],2)}}}),[["__scopeId","data-v-d11fdcb2"]])),fe=y(e.defineComponent({name:"ImBreadcrumb",__name:"ImBreadcrumb",props:{modelValue:{default:""},separator:{default:"/"}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=e.useSlots(),a=n,o=I("breadcrumb"),l=s,r=e.computed(()=>{var c,p;return(p=(c=t.default)==null?void 0:c.call(t))==null?void 0:p.filter(i=>{var m;return(i==null?void 0:i.type)&&((m=i==null?void 0:i.type)==null?void 0:m.name)==="ImBreadcrumbItem"})}),f=c=>{c&&l.modelValue!==c&&(a("update:modelValue",c),a("change",c))};return(c,p)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(i,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i),{active:l.modelValue,onClick:f},null,8,["active"])),r.value&&r.value.length>0&&m<r.value.length-1?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(o).e("separator")])},[e.renderSlot(c.$slots,"separator",{},()=>[e.createTextVNode(e.toDisplayString(l.separator),1)],!0)],2)):e.createCommentVNode("",!0)],64))),256))],2))}}),[["__scopeId","data-v-64336468"]]),ue=e.defineComponent({name:"ImBreadcrumbItem",__name:"ImBreadcrumbItem",props:{active:{},value:{default:Math.random().toString()}},emits:["click"],setup(s,{emit:n}){const t=I("breadcrumb__item"),a=s,o=n;return(l,r)=>(e.openBlock(),e.createElementBlock("div",{onClick:r[0]||(r[0]=()=>o("click",a.value)),class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",a.active===a.value&&!!a.value)])},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2))}}),_e=y(ue,[["__scopeId","data-v-40ed04b1"]]),H=B("ImBreadcrumb",fe),G=B("ImBreadcrumb",_e),he=(s=50)=>{const n=e.ref(0),t=e.ref(0),a=X(o=>{n.value=o.clientX,t.value=o.clientY},s);return e.onMounted(()=>{window.addEventListener("mousemove",a,{passive:!0})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",a)}),{x:n,y:t}},ye=(s,n,t,a="bottomLeft")=>{e.watch(()=>s.value,()=>{s.value&&o()});async function o(){var u;await new Promise(_=>requestAnimationFrame(_));const l=n==null?void 0:n.value,r=t==null?void 0:t.value;if(!l||!r)return;const c=(((u=l.children)==null?void 0:u.length)!=1?l:l.children[0]).getBoundingClientRect(),p=c.bottom,i=r.getBoundingClientRect(),m=2;switch(a){case"bottom":r.style.setProperty("top",`${p+m}px`),r.style.setProperty("left",`${c.left+c.width/2-i.width/2}px`);break;case"bottomRight":r.style.setProperty("top",`${p+m}px`),r.style.setProperty("left",`${c.left+c.width-i.width}px`);break;case"top":r.style.setProperty("top",`${c.top-i.height-m}px`),r.style.setProperty("left",`${c.left+c.width/2-i.width/2}px`);break;case"topRight":r.style.setProperty("top",`${c.top-i.height-m}px`),r.style.setProperty("left",`${c.right-i.width}px`);break;case"topLeft":r.style.setProperty("top",`${c.top-i.height-m}px`),r.style.setProperty("left",`${c.left}px`);break;default:r.style.setProperty("top",`${p+m}px`),r.style.setProperty("left",`${c.left}px`);break}}},ge=s=>{const n=s.toLowerCase().includes("bottom")?"translateY(-10px)":"translateY(10px)";function t(o,l){o.style.transform=n,o.style.opacity="0",o.style.pointerEvents="none",o.getBoundingClientRect(),o.style.transform="translateY(0px)",o.style.opacity="1",o.style.pointerEvents="auto",l()}async function a(o,l){o.style.transform=n,o.style.opacity="0",o.getBoundingClientRect(),o.addEventListener("transitionend",()=>{l(),o.style.transform="translateY(0px)"})}return{onEnter:t,onLeave:a}},J=B("ImDropdown",y(e.defineComponent({name:"ImDropdown",__name:"ImDropdown",props:{modelValue:{type:Boolean,default:!1},trigger:{default:"hover"},placement:{default:"bottomLeft"},zIndex:{default:void 0}},emits:["update:modelValue","change"],setup(s,{emit:n}){var w;const t=n,a=I("dropdown"),o=s,l=e.ref(null),r=e.ref(null),f=e.ref(o.modelValue||!1),c=ge((w=o.placement)!=null&&w.includes("top")?"top":"bottom");let p=null,i=100;const{x:m,y:u}=he(30),{zIndexToken:_}=T();ye(f,l,r,o.placement),e.onMounted(()=>{p&&p(),p=k()}),e.onUnmounted(()=>{p&&p()}),e.watch(()=>o.trigger,()=>{p&&p(),p=k()});const g=X(()=>{const $=j(m.value,u.value,r.value);j(m.value,u.value,l.value)||$||(f.value=!1)},i);e.watch(()=>[m.value,u.value],()=>{o.trigger!="hover"||!f.value||g()});function C(){f.value=!0,t("update:modelValue",f.value),t("change",f.value),window.addEventListener("scroll",E,{passive:!0,capture:!0})}function E(){f.value=!1,t("update:modelValue",f.value),t("change",f.value),window.removeEventListener("scroll",close)}function k(){var Y,te;p&&p();const $=P(S=>{var z;(z=l.value)!=null&&z.contains(S.target)||E()},i);if(document.addEventListener("click",$,{passive:!0}),o.trigger==="hover"){const S=P(C,i);return(Y=l.value)==null||Y.addEventListener("mouseenter",S,{passive:!0}),()=>{var z;(z=l.value)==null||z.removeEventListener("mouseenter",S),document.removeEventListener("click",$)}}if(o.trigger==="click"){const S=P(()=>{f.value?E():C()},i);return(te=l.value)==null||te.addEventListener("click",S,{passive:!0}),()=>{var z;(z=l.value)==null||z.removeEventListener("click",S),document.removeEventListener("click",$)}}return null}return($,Y)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b()]),ref_key:"dropdownRef",ref:l},[e.renderSlot($.$slots,"default",{},void 0,!0),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{onEnter:e.unref(c).onEnter,onLeave:e.unref(c).onLeave,duration:{enter:300,leave:200}},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(a).e("content")]),ref_key:"contentRef",ref:r,style:e.normalizeStyle({zIndex:o.zIndex||e.unref(_)})},[e.renderSlot($.$slots,"content",{},void 0,!0)],6),[[e.vShow,f.value]])]),_:3},8,["onEnter","onLeave"])]))],2))}}),[["__scopeId","data-v-c394ceaa"]])),ke=y(e.defineComponent({name:"ImList",__name:"ImList",props:{modelValue:{default:""}},emits:["update:modelValue","change"],setup(s,{emit:n}){const t=s,a=e.useSlots(),o=I("list"),l=e.computed(()=>{var p;const c=((p=a.default)==null?void 0:p.call(a))||[];if(c.length){const i=[];return c.forEach(m=>{var u,_;typeof m.type=="object"?i.push(m):m.children&&((u=m.children)!=null&&u.length)&&((_=m.children)==null||_.forEach(g=>{typeof(g==null?void 0:g.type)=="object"&&i.push(g)}))}),i}}),r=n,f=c=>{r("update:modelValue",c.value),r("change",c.value)};return(c,p)=>(e.openBlock(),e.createElementBlock("ul",{class:e.normalizeClass([e.unref(o).b()])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,i=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i),{active:t.modelValue,onClick:()=>f(i.props)},null,8,["active","onClick"]))),256))],2))}}),[["__scopeId","data-v-9599f63c"]]),Ie=y(e.defineComponent({name:"ImListItem",__name:"ImListItem",props:{disabled:{type:Boolean,default:!1},value:{default:""},active:{default:""},ripple:{type:Boolean,default:!0}},emits:["click"],setup(s,{emit:n}){const t=I("list__item"),a=n,o=s;return(l,r)=>{const f=e.resolveDirective("ripple");return e.withDirectives((e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass([e.unref(t).b(),e.unref(t).is("active",!!(o.active&&o.active===o.value))]),onClick:r[0]||(r[0]=c=>a("click",c))},[e.renderSlot(l.$slots,"default",{},void 0,!0)],2)),[[f,o.ripple]])}}}),[["__scopeId","data-v-41ec0ba7"]]),K=B("ImList",ke),Q=B("ImListItem",Ie),be=["src","srcset","alt","loading"],Z=B("ImAvatar",y(e.defineComponent({name:"ImAvatar",__name:"ImAvatar",props:{size:{default:36},src:{default:""},alt:{default:""},title:{default:""},crossOrigin:{default:"anonymous"},fit:{default:"cover"},srcset:{default:""},loading:{default:"eager"},shape:{default:"circle"},color:{default:""}},emits:["error"],setup(s,{emit:n}){const t=n,a=I("avatar"),o=s,l=r=>{console.log(r.target),t("error",r)};return(r,f)=>(e.openBlock(),e.createElementBlock("span",{class:e.normalizeClass([e.unref(a).b(),o.shape?e.unref(a).m(o.shape):""]),style:e.normalizeStyle({"--im-avatar-size":(Number(o.size)||36)+"px","--im-avatar-color":o.color||"var(--im-rgb-color-2)","--im-avatar-fit":o.fit})},[!o.src&&!o.srcset?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([e.unref(a).e("icon")])},[e.renderSlot(r.$slots,"default",{},void 0,!0)],2)):(e.openBlock(),e.createElementBlock("img",{key:1,onError:l,src:o.src,srcset:o.srcset,alt:o.alt,loading:o.loading,class:e.normalizeClass([e.unref(a).e("img")])},null,42,be))],6))}}),[["__scopeId","data-v-c4c32038"]])),we=()=>({onEnter:(s,n)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",s.getBoundingClientRect(),s.style.opacity=1,n()},onLeave:async(s,n)=>{s.style.opacity=0,s.style.transition="opacity 200ms ease",await new Promise(t=>requestAnimationFrame(t)),s.addEventListener("transitionend",n)}}),Be=(s="right")=>{let n="",t="";switch(s){case"left":n="translateX(-100%)",t="translateX(-100%)";break;case"right":n="translateX(100%)",t="translateX(100%)";break;case"top":n="translateY(-100%)",t="translateY(-100%)";break;case"bottom":n="translateY(100%)",t="translateY(100%)";break;default:n="translateX(100%)",t="translateX(100%)";break}return{onEnter:(a,o)=>{a.style.transform=n,a.style.transition="transform 200ms ease, opacity 200ms ease",a.style.opacity="0",a.getBoundingClientRect(),a.style.transform="translateX(0)",a.style.opacity="1",o()},onLeave:async(a,o)=>{a.style.transform=t,a.style.opacity="0",a.style.transition="transform 200ms ease, opacity 200ms ease",await new Promise(l=>requestAnimationFrame(l)),a.addEventListener("transitionend",()=>{o()})}}},q=B("ImMask",y(e.defineComponent({name:"ImMask",__name:"ImMask",props:{visible:{type:Boolean,default:!1},zIndex:{default:0},closeOnClickMask:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:n}){const t=I("mask"),{zIndexToken:a}=T(),o=s,l=we(),r=n,f=()=>{o.closeOnClickMask&&r("close",!1)};return(c,p)=>(e.openBlock(),e.createBlock(e.Transition,{onEnter:e.unref(l).onEnter,onLeave:e.unref(l).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).b()]),style:e.normalizeStyle({zIndex:o.zIndex||e.unref(a)}),onClick:f},[e.renderSlot(c.$slots,"default",{},void 0,!0)],6),[[e.vShow,o.visible]])]),_:3},8,["onEnter","onLeave"]))}}),[["__scopeId","data-v-2ba470f4"]])),Ce=["aria-modal"],v=B("ImDrawer",y(e.defineComponent({name:"ImDrawer",__name:"ImDrawer",props:{modelValue:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},closeOnClickMask:{type:Boolean,default:!0},placement:{default:"right"},size:{default:378},zIndex:{default:""}},emits:["update:modelValue"],setup(s,{emit:n}){const t=I("drawer"),a=n,o=s,l=e.ref(null),r=Be(o.placement),{zIndexToken:f}=T(),c=()=>{a("update:modelValue",!1)};return(p,i)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{tabindex:"-1",ref_key:"containerRef",ref:l,class:e.normalizeClass([e.unref(t).b(),o.placement?e.unref(t).m(o.placement):""]),style:e.normalizeStyle({"--im-drawer-size":(parseInt(String(o.size))||378)+"px",zIndex:o.zIndex||e.unref(f)}),"aria-modal":o.modelValue},[o.mask?(e.openBlock(),e.createBlock(e.unref(q),{key:0,visible:o.modelValue,closeOnClickMask:o.closeOnClickMask,onClose:c,zIndex:"1"},null,8,["visible","closeOnClickMask"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{onEnter:e.unref(r).onEnter,onLeave:e.unref(r).onLeave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass([e.unref(t).e("content")])},[e.renderSlot(p.$slots,"default",{},void 0,!0)],2),[[e.vShow,o.modelValue]])]),_:3},8,["onEnter","onLeave"])],14,Ce)]))}}),[["__scopeId","data-v-1b0178a0"]])),ee=B("ImCard",y(e.defineComponent({name:"ImCard",__name:"ImCard",props:{title:{default:""},borderless:{type:Boolean,default:!1},shadow:{default:""}},setup(s){const n=I("card"),t=s;return(a,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(n).b(),e.unref(n).is("borderless",t.borderless),t.shadow?e.unref(n).m(t.shadow):""])},[e.renderSlot(a.$slots,"header",{},()=>[e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("header")])},[t.title?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass([e.unref(n).e("title")])},e.toDisplayString(t.title),3)):e.createCommentVNode("",!0),e.renderSlot(a.$slots,"header-action",{},void 0,!0)],2)],!0),e.createElementVNode("div",{class:e.normalizeClass([e.unref(n).e("body")])},[e.renderSlot(a.$slots,"default",{},void 0,!0)],2)],2))}}),[["__scopeId","data-v-cf1ecfc0"]])),Ee=["data-index","onMouseenter","onMouseleave"],ze={class:"im-message__text"},$e=y(e.defineComponent({__name:"Message",props:{callback:{type:Function},add:{type:Function}},setup(s,{expose:n}){const t=I("message"),a=s,o=e.ref([]);let l=null;e.watch(()=>o.value,()=>{o.value.length===0?l=setTimeout(()=>{!o.value.length&&a.callback()},500):(l&&clearTimeout(l),l=null)});const r=i=>{switch(i){case"success":return"check-circle-fill";case"warning":return"warning-circle-fill";case"error":return"close-circle-fill";default:return"info-circle-fill"}},f=i=>{i.timer&&(clearTimeout(i.timer),i.timer=null)},c=i=>{i.timer&&clearTimeout(i.timer),i.timer=setTimeout(()=>{o.value=o.value.filter(m=>m.id!==i.id)},i.duration||3e3)},p=i=>{const m=setTimeout(()=>{o.value=o.value.filter(u=>u.id!==i.id)},i.duration||3e3);o.value.push({...i,timer:m})};return a.add&&a.add(p),n({addMsg:p}),(i,m)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{tag:"ul",name:"list",css:!0,class:e.normalizeClass([e.unref(t).b()])},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,u=>(e.openBlock(),e.createElementBlock("li",{key:u.id,"data-index":u.id,onMouseenter:()=>f(u),onMouseleave:()=>c(u),class:e.normalizeClass(["im-message__item",[e.unref(t).e("item"),u.color?e.unref(t).e(u.color):""]])},[e.createVNode(e.unref(x),{name:r(u.color),size:"18px"},null,8,["name"]),e.createElementVNode("span",ze,e.toDisplayString(u.msg),1)],42,Ee))),128))]),_:1},8,["class"]))}}),[["__scopeId","data-v-820c83a9"]]);class xe{constructor(){F(this,"app");F(this,"container");F(this,"addMsgToList");this.app=null,this.container=null,this.addMsgToList=null}createApp(){if(typeof window<"u"&&window){this.container=document.createElement("div"),this.container.classList.add("im-message-container"),document.body.appendChild(this.container);const n=this;this.app=e.createApp($e,{callback:()=>{n.destroy()},add:t=>{n.addMsgToList=t}}),this.app.mount(this.container)}else throw new Error("只能在浏览器环境下使用")}destroy(){var n,t;(n=this.app)==null||n.unmount(),(t=this.container)==null||t.remove(),this.app=null,this.container=null}addMsg(n){if(this.app||this.createApp(),!this.addMsgToList)return console.error("addMsgToList is null");this.addMsgToList({msg:n.msg,id:Math.random().toString().slice(2)+"_"+Date.now(),duration:n.duration||3e3,color:(n==null?void 0:n.color)||"primary"})}info(n,t){this.addMsg({color:"primary",msg:n,duration:t,id:""})}success(n,t){this.addMsg({color:"success",msg:n,duration:t,id:""})}warning(n,t){this.addMsg({color:"warning",msg:n,duration:t,id:""})}error(n,t){this.addMsg({color:"error",msg:n,duration:t,id:""})}}let b=null;const Le=()=>(b||(b=new xe),{info:(s,n=3e3)=>{b==null||b.info(s,n)},success:(s,n=3e3)=>{b==null||b.success(s,n)},warning:(s,n=3e3)=>{b==null||b.warning(s,n)},error:(s,n=3e3)=>{b==null||b.error(s,n)}}),Se=[N,A,M,R,x,V,W,U,H,G,J,K,Q,Z,q,v,ee],Te={install:(s,n)=>{s.provide(h,{size:(n==null?void 0:n.size)||36,zIndex:(n==null?void 0:n.zIndex)||1e3}),s.directive("ripple",re),Se.forEach(t=>{t.name?s.component(t.name,t):console.warn(`组件${t}缺少name属性`)})}};d.ImAlert=U,d.ImAnchor=W,d.ImAvatar=Z,d.ImBreadcrumb=H,d.ImBreadcrumbItem=G,d.ImButton=N,d.ImCard=ee,d.ImCol=A,d.ImDivider=V,d.ImDrawer=v,d.ImDropdown=J,d.ImIcon=x,d.ImInput=R,d.ImList=K,d.ImListItem=Q,d.ImMask=q,d.ImRow=M,d.default=Te,d.useImMessage=Le,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
